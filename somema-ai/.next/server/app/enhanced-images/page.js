(()=>{var e={};e.id=1033,e.ids=[1033],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9005:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},12294:(e,r,t)=>{"use strict";t.d(r,{$:()=>n});var s=t(60687),a=t(43210),i=t.n(a),l=t(96241);let n=i().forwardRef(({className:e,variant:r="primary",size:t="md",loading:a=!1,children:i,disabled:n,...o},d)=>(0,s.jsxs)("button",{className:(0,l.cn)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 border border-gray-200",outline:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-50",ghost:"text-gray-900 hover:bg-gray-100",destructive:"bg-red-600 text-white hover:bg-red-700 border border-red-600"}[r],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"}[t],e),ref:d,disabled:n||a,...o,children:[a&&(0,s.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]}));n.displayName="Button"},13588:(e,r,t)=>{Promise.resolve().then(t.bind(t,91021))},13861:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},16396:(e,r,t)=>{"use strict";t.d(r,{$G:()=>a,ND:()=>s});let s=(0,t(59522).createBrowserClient)("https://yfmypikqgegvookjzvyv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmbXlwaWtxZ2Vndm9va2p6dnl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3NTU3NDMsImV4cCI6MjA2NjMzMTc0M30.BX62nqWwNu23pRQYrzoR9EetesEkac3ZdAu2KKXwNxs",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Client-Info":"quely-ai-web"}}}),a=()=>"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmbXlwaWtxZ2Vndm9va2p6dnl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3NTU3NDMsImV4cCI6MjA2NjMzMTc0M30.BX62nqWwNu23pRQYrzoR9EetesEkac3ZdAu2KKXwNxs"},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31158:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},39727:()=>{},46055:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(31658);let a=async e=>[{type:"image/x-icon",sizes:"500x500",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},47990:()=>{},48444:(e,r,t)=>{"use strict";t.d(r,{p:()=>n});var s=t(60687),a=t(43210),i=t.n(a),l=t(96241);let n=i().forwardRef(({className:e,type:r,label:t,error:i,helperText:n,id:o,...d},c)=>{let m=(0,a.useId)(),h=o||`input-${m}`;return(0,s.jsxs)("div",{className:"w-full",children:[t&&(0,s.jsx)("label",{htmlFor:h,className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i&&"border-red-500 focus-visible:ring-red-500",e),ref:c,id:h,...d}),i&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i}),n&&!i&&(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:n})]})});n.displayName="Input"},50940:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56085:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},62688:(e,r,t)=>{"use strict";t.d(r,{A:()=>m});var s=t(43210);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),l=e=>{let r=i(e);return r.charAt(0).toUpperCase()+r.slice(1)},n=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim(),o=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:c,...m},h)=>(0,s.createElement)("svg",{ref:h,...d,width:r,height:r,stroke:e,strokeWidth:a?24*Number(t)/Number(r):t,className:n("lucide",i),...!l&&!o(m)&&{"aria-hidden":"true"},...m},[...c.map(([e,r])=>(0,s.createElement)(e,r)),...Array.isArray(l)?l:[l]])),m=(e,r)=>{let t=(0,s.forwardRef)(({className:t,...i},o)=>(0,s.createElement)(c,{ref:o,iconNode:r,className:n(`lucide-${a(l(e))}`,`lucide-${e}`,t),...i}));return t.displayName=l(e),t}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66324:(e,r,t)=>{Promise.resolve().then(t.bind(t,78305))},67413:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=t(65239),a=t(48088),i=t(88170),l=t.n(i),n=t(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(r,o);let d={children:["",{children:["enhanced-images",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,91021)),"/Users/thanveerulaklam/Desktop/Projects/Somema/somema-ai/app/enhanced-images/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"/Users/thanveerulaklam/Desktop/Projects/Somema/somema-ai/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/thanveerulaklam/Desktop/Projects/Somema/somema-ai/app/enhanced-images/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/enhanced-images/page",pathname:"/enhanced-images",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},74075:e=>{"use strict";e.exports=require("zlib")},78305:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var s=t(60687),a=t(43210),i=t(16189);t(16396);var l=t(12294),n=t(48444),o=t(50940),d=t(56085),c=t(9005),m=t(13861),h=t(99270);let u=(0,t(62688).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var p=t(31158);function x(){let[e,r]=(0,a.useState)([]),[t,x]=(0,a.useState)(!0),[g,f]=(0,a.useState)(""),[v,b]=(0,a.useState)("grid"),[w,y]=(0,a.useState)(""),[j,N]=(0,a.useState)(""),[k,A]=(0,a.useState)("free"),C=(0,i.useRouter)(),I=e.filter(e=>{let r=e.file_name?.toLowerCase().includes(g.toLowerCase())||e.enhanced_image_url.toLowerCase().includes(g.toLowerCase()),t=!w||new Date(e.created_at).toDateString()===new Date(w).toDateString();return r&&t}),_=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),z=e=>{window.open(e.enhanced_image_url,"_blank")},E=async(e,r)=>{if("free"===k)return void C.push("/pricing");try{let t=await fetch(e),s=await t.blob(),a=window.URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.download=r,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(a),document.body.removeChild(i)}catch(e){console.error("Download failed:",e),N("Failed to download image")}};return t?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(l.$,{variant:"ghost",size:"sm",onClick:()=>C.push("/dashboard"),className:"flex items-center gap-2",children:[(0,s.jsx)(o.A,{className:"h-4 w-4"}),"Back to Dashboard"]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(d.A,{className:"h-5 w-5 text-purple-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"AI Enhanced Images"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"Your AI-enhanced promotional images"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.$,{variant:"grid"===v?"primary":"outline",size:"sm",onClick:()=>b("grid"),children:(0,s.jsx)(c.A,{className:"h-4 w-4"})}),(0,s.jsx)(l.$,{variant:"list"===v?"primary":"outline",size:"sm",onClick:()=>b("list"),children:(0,s.jsx)(m.A,{className:"h-4 w-4"})})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-6 sm:mb-8",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)(n.p,{type:"text",placeholder:"Search enhanced images...",value:g,onChange:e=>f(e.target.value),className:"pl-10"})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)(n.p,{type:"date",value:w,onChange:e=>y(e.target.value),className:"w-auto"}),w&&(0,s.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>y(""),children:"Clear"})]})]})}),j&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,s.jsx)("p",{className:"text-red-600",children:j})}),0===I.length?(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[(0,s.jsx)(d.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No enhanced images found"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:g||w?"Try adjusting your search or filter criteria.":"Start by enhancing some images in the post editor to see them here."}),(0,s.jsx)(l.$,{variant:"primary",onClick:()=>C.push("/posts/editor"),children:"Create Enhanced Image"})]}):(0,s.jsx)("div",{className:"grid"===v?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:I.map(e=>(0,s.jsx)("div",{className:`bg-white rounded-lg shadow-sm border overflow-hidden hover:shadow-md transition-shadow ${"list"===v?"flex items-center p-4":""}`,children:"grid"===v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"relative aspect-square",children:[(0,s.jsx)("img",{src:e.enhanced_image_url,alt:"Enhanced image",className:"w-full h-full object-cover",onError:r=>{r.target.src=e.original_image_url}}),(0,s.jsx)("div",{className:"absolute top-2 right-2",children:(0,s.jsxs)("div",{className:"bg-purple-600 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,s.jsx)(d.A,{className:"h-3 w-3"}),"AI Enhanced"]})})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900 mb-2 line-clamp-2",children:e.file_name}),(0,s.jsx)("p",{className:"text-gray-500 text-sm mb-3",children:_(e.created_at)}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>E(e.enhanced_image_url,e.file_name||"enhanced-image"),className:"flex-1",children:[(0,s.jsx)(p.A,{className:"h-4 w-4 mr-1"}),"free"===k?"Upgrade to Download":"Download"]}),(0,s.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>z(e),disabled:"free"===k,title:"free"===k?"Upgrade to view full image":"View full image",children:(0,s.jsx)(m.A,{className:"h-4 w-4"})})]})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"relative w-20 h-20 flex-shrink-0",children:[(0,s.jsx)("img",{src:e.enhanced_image_url,alt:"Enhanced image",className:"w-full h-full object-cover rounded-lg",onError:r=>{r.target.src=e.original_image_url}}),(0,s.jsx)("div",{className:"absolute -top-1 -right-1",children:(0,s.jsx)("div",{className:"bg-purple-600 text-white text-xs px-1 py-0.5 rounded-full",children:(0,s.jsx)(d.A,{className:"h-2 w-2"})})})]}),(0,s.jsxs)("div",{className:"flex-1 ml-4",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:e.file_name}),(0,s.jsx)("p",{className:"text-gray-500 text-sm mb-2",children:_(e.created_at)})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>E(e.enhanced_image_url,e.file_name||"enhanced-image"),children:[(0,s.jsx)(p.A,{className:"h-4 w-4 mr-1"}),"free"===k?"Upgrade to Download":"Download"]}),(0,s.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>z(e),disabled:"free"===k,title:"free"===k?"Upgrade to view full image":"View full image",children:(0,s.jsx)(m.A,{className:"h-4 w-4"})})]})]})},e.id))}),I.length>0&&(0,s.jsx)("div",{className:"mt-8 bg-white rounded-lg shadow-sm border p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,s.jsxs)("span",{children:["Showing ",I.length," of ",e.length," enhanced images"]}),(0,s.jsx)("span",{children:g||w?"Filtered results":"All enhanced images"})]})})]})})}},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91021:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/thanveerulaklam/Desktop/Projects/Somema/somema-ai/app/enhanced-images/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/thanveerulaklam/Desktop/Projects/Somema/somema-ai/app/enhanced-images/page.tsx","default")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96241:(e,r,t)=>{"use strict";t.d(r,{cn:()=>i});var s=t(49384),a=t(82348);function i(...e){return(0,a.QP)((0,s.$)(e))}async function l(e){try{console.log("\uD83D\uDD04 Trying fallback HEIC conversion...");let r=await fetch(e),t=await r.blob(),s=document.createElement("canvas"),a=s.getContext("2d");if(!a)throw Error("Canvas context not available");let i=new Image;return new Promise((e,r)=>{i.onload=()=>{try{s.width=i.width,s.height=i.height,a.drawImage(i,0,0);let r=s.toDataURL("image/jpeg",.9);console.log("✅ Fallback HEIC conversion successful"),e(r)}catch(e){console.error("❌ Fallback conversion failed:",e),r(e)}},i.onerror=()=>{console.error("❌ Failed to load image for fallback conversion"),r(Error("Failed to load image"))},i.src=URL.createObjectURL(t)})}catch(e){throw console.error("❌ Fallback HEIC conversion failed:",e),e}}},99270:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4447,3078,1658,9522,9069,6100],()=>t(67413));module.exports=s})();