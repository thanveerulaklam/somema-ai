(()=>{var e={};e.id=4765,e.ids=[4765],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5336:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12294:(e,t,s)=>{"use strict";s.d(t,{$:()=>o});var r=s(60687),a=s(43210),i=s.n(a),l=s(96241);let o=i().forwardRef(({className:e,variant:t="primary",size:s="md",loading:a=!1,children:i,disabled:o,...n},c)=>(0,r.jsxs)("button",{className:(0,l.cn)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 border border-gray-200",outline:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-50",ghost:"text-gray-900 hover:bg-gray-100",destructive:"bg-red-600 text-white hover:bg-red-700 border border-red-600"}[t],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"}[s],e),ref:c,disabled:o||a,...n,children:[a&&(0,r.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]}));o.displayName="Button"},18087:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(60687),a=s(43210),i=s(16189),l=s(50940),o=s(62688);let n=(0,o.A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var c=s(5336);let d=(0,o.A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var m=s(12294);function u(){let[e,t]=(0,a.useState)(null),[s,o]=(0,a.useState)(""),[u,p]=(0,a.useState)(0),[x,h]=(0,a.useState)("INR"),[g,b]=(0,a.useState)(""),[f,y]=(0,a.useState)(!1),v=(0,i.useRouter)();return(0,i.useSearchParams)(),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)(m.$,{variant:"ghost",size:"sm",onClick:()=>{v.push("/pricing")},children:[(0,r.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Back to Pricing"]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(n,{className:"h-6 w-6 text-blue-600"}),(0,r.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"UPI AutoPay Setup"})]})]})})}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-8",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(c.A,{className:"h-8 w-8 text-green-600"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-green-900",children:"Subscription Created Successfully!"}),(0,r.jsxs)("p",{className:"text-green-700 mt-1",children:["Your ",s," subscription has been created. Now complete the UPI AutoPay setup to activate it."]})]})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Subscription Details"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Plan:"}),(0,r.jsx)("p",{className:"font-medium text-gray-900",children:s})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Amount:"}),(0,r.jsxs)("p",{className:"font-medium text-gray-900",children:["₹",u," ",x]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Payment Method:"}),(0,r.jsx)("p",{className:"font-medium text-gray-900",children:"UPI AutoPay"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Status:"}),(0,r.jsx)("p",{className:"font-medium text-orange-600",children:"Pending Setup"})]})]})]}),(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)(n,{className:"h-6 w-6 text-blue-600 mt-1"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Complete UPI AutoPay Setup"}),(0,r.jsx)("p",{className:"text-blue-700 mb-4",children:"To activate your subscription, you need to authorize the UPI AutoPay mandate in your UPI app."}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),(0,r.jsx)("p",{className:"text-blue-700",children:'Click "Authorize UPI AutoPay" below to open Razorpay Checkout'})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),(0,r.jsxs)("p",{className:"text-blue-700",children:["Select your UPI app and authorize the mandate for ",x," ",u.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),(0,r.jsx)("p",{className:"text-blue-700",children:"Your subscription will be activated automatically"})]})]})]})]})}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,r.jsxs)(m.$,{onClick:()=>{if(console.log("\uD83D\uDD0D UPI App button clicked:",{authUrl:g,subscriptionId:e,hasAuthUrl:!!g}),e){console.log("✅ Opening Razorpay Checkout for UPI AutoPay authorization...");let t={key:"rzp_live_RAfGBRNWfinpD9",subscription_id:e,name:"Quely.ai",description:`${s} Plan - UPI AutoPay Setup`,handler:function(e){console.log("✅ UPI AutoPay mandate approved:",e),window.location.href="/dashboard?subscription=active&method=upi-autopay"},method:{upi:!0,card:!1},theme:{color:"#0f172a"},modal:{ondismiss:function(){console.log("❌ UPI AutoPay setup cancelled")}}};new window.Razorpay(t).open()}else console.error("❌ No subscription ID available"),alert("Subscription ID not found. Please try again.")},disabled:f||!e,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,r.jsx)(d,{className:"h-5 w-5 mr-2"}),f?"Opening...":"Authorize UPI AutoPay"]}),(0,r.jsx)(m.$,{onClick:()=>{v.push("/dashboard")},variant:"outline",className:"flex-1 py-3 px-6 rounded-lg font-medium transition-colors",children:"Complete Setup Later"})]}),(0,r.jsxs)("div",{className:"mt-8 bg-gray-50 rounded-lg p-6",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Why UPI AutoPay?"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(c.A,{className:"h-5 w-5 text-green-600"}),(0,r.jsx)("span",{className:"text-gray-700",children:"No credit card required"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(c.A,{className:"h-5 w-5 text-green-600"}),(0,r.jsx)("span",{className:"text-gray-700",children:"99% payment success rate"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(c.A,{className:"h-5 w-5 text-green-600"}),(0,r.jsx)("span",{className:"text-gray-700",children:"Manage in your UPI app"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(c.A,{className:"h-5 w-5 text-green-600"}),(0,r.jsx)("span",{className:"text-gray-700",children:"Pause or cancel anytime"})]})]})]}),(0,r.jsxs)("div",{className:"mt-8 text-center",children:[(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Need help with UPI AutoPay setup?"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,r.jsx)(m.$,{variant:"ghost",onClick:()=>window.open("https://razorpay.com/support/","_blank"),className:"text-blue-600 hover:text-blue-700",children:"Contact Razorpay Support"}),(0,r.jsx)(m.$,{variant:"ghost",onClick:()=>window.open("https://razorpay.com/docs/payments/upi/autopay/","_blank"),className:"text-blue-600 hover:text-blue-700",children:"UPI AutoPay Guide"})]})]})]})]})}function p(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}),children:(0,r.jsx)(u,{})})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},45755:(e,t,s)=>{Promise.resolve().then(s.bind(s,53946))},46055:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(31658);let a=async e=>[{type:"image/x-icon",sizes:"500x500",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},50940:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},53946:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/thanveerulaklam/Desktop/Projects/Somema/somema-ai/app/upi-setup/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/thanveerulaklam/Desktop/Projects/Somema/somema-ai/app/upi-setup/page.tsx","default")},62688:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var r=s(43210);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),l=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),n=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:d,...m},u)=>(0,r.createElement)("svg",{ref:u,...c,width:t,height:t,stroke:e,strokeWidth:a?24*Number(s)/Number(t):s,className:o("lucide",i),...!l&&!n(m)&&{"aria-hidden":"true"},...m},[...d.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(l)?l:[l]])),m=(e,t)=>{let s=(0,r.forwardRef)(({className:s,...i},n)=>(0,r.createElement)(d,{ref:n,iconNode:t,className:o(`lucide-${a(l(e))}`,`lucide-${e}`,s),...i}));return s.displayName=l(e),s}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79551:e=>{"use strict";e.exports=require("url")},82547:(e,t,s)=>{Promise.resolve().then(s.bind(s,18087))},89387:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var r=s(65239),a=s(48088),i=s(88170),l=s.n(i),o=s(30893),n={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(t,n);let c={children:["",{children:["upi-setup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,53946)),"/Users/thanveerulaklam/Desktop/Projects/Somema/somema-ai/app/upi-setup/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"/Users/thanveerulaklam/Desktop/Projects/Somema/somema-ai/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/thanveerulaklam/Desktop/Projects/Somema/somema-ai/app/upi-setup/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/upi-setup/page",pathname:"/upi-setup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},96241:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var r=s(49384),a=s(82348);function i(...e){return(0,a.QP)((0,r.$)(e))}async function l(e){try{console.log("\uD83D\uDD04 Trying fallback HEIC conversion...");let t=await fetch(e),s=await t.blob(),r=document.createElement("canvas"),a=r.getContext("2d");if(!a)throw Error("Canvas context not available");let i=new Image;return new Promise((e,t)=>{i.onload=()=>{try{r.width=i.width,r.height=i.height,a.drawImage(i,0,0);let t=r.toDataURL("image/jpeg",.9);console.log("✅ Fallback HEIC conversion successful"),e(t)}catch(e){console.error("❌ Fallback conversion failed:",e),t(e)}},i.onerror=()=>{console.error("❌ Failed to load image for fallback conversion"),t(Error("Failed to load image"))},i.src=URL.createObjectURL(s)})}catch(e){throw console.error("❌ Fallback HEIC conversion failed:",e),e}}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4447,3078,1658,9069,6100],()=>s(89387));module.exports=r})();