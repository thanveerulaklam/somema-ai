"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8802],{8802:(e,t,a)=>{a.d(t,{AnalyticsProvider:()=>M,p:()=>B});var n=a(5155),r=a(2115),o=a(5695);window.dataLayer=window.dataLayer||[];let c=e=>{window.gtag&&window.gtag("config","G-E4V8PFDBNH",{page_location:e}),window.dataLayer&&window.dataLayer.push({event:"page_view",page_location:e})},i=e=>{let{action:t,category:a,label:n,value:r}=e;window.gtag&&window.gtag("event",t,{event_category:a,event_label:n,value:r}),window.dataLayer&&window.dataLayer.push({event:t,event_category:a,event_label:n,value:r})},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.dataLayer&&window.dataLayer.push({event:e,...t})},s=(e,t)=>{i({action:e,category:"User Engagement",label:null==t?void 0:t.label}),d("user_engagement",{action:e,category:"User Engagement",...t})},l=(e,t)=>{i({action:"Feature Used",category:"Feature Usage",label:e}),d("feature_usage",{feature:e,category:"Feature Usage",...t})},u=(e,t)=>{i({action:"Conversion",category:"Conversions",label:e,value:t}),d("conversion",{conversion_type:e,value:t,category:"Conversions"})},g=(e,t)=>{i({action:"Error",category:"Errors",label:e}),d("error",{error_type:e,error_message:t,category:"Errors"})},_=(e,t)=>{window.dataLayer&&window.dataLayer.push({event:e,ecommerce:t})},v=e=>{window.dataLayer&&window.dataLayer.push({event:"custom_data",...e})};var w=a(7358);let m="1330023435311467",k=w.env.META_ACCESS_TOKEN||"",h=!1,f=()=>{{if(!m)return void console.warn("Meta Pixel ID not configured. Set NEXT_PUBLIC_META_PIXEL_ID environment variable.");if(h)return;if(window.dataLayer=window.dataLayer||[],window.fbq){try{window.fbq("init",m),window.fbq("track","PageView"),h=!0}catch(e){console.warn("Error initializing existing Facebook Pixel:",e)}return}let e=document.createElement("script");e.async=!0,e.src="https://connect.facebook.net/en_US/fbevents.js",document.head.appendChild(e),e.onload=()=>{setTimeout(()=>{if(window.fbq)try{window.fbq("init",m),window.fbq("track","PageView"),h=!0}catch(e){console.warn("Error initializing Facebook Pixel:",e)}else console.warn("Facebook Pixel (fbq) not available after script load")},100)},e.onerror=()=>{console.warn("Failed to load Facebook Pixel script")}}},p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(m)if(window.fbq)try{window.fbq("track",e,t)}catch(t){console.warn("Error tracking Facebook Pixel event ".concat(e,":"),t)}else console.warn("Facebook Pixel not available for event: ".concat(e))},y=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!k||!m)return void console.warn("Meta Conversions API not configured");try{let a=await fetch("https://graph.facebook.com/v18.0/".concat(m,"/events"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:[{event_name:e,event_time:Math.floor(Date.now()/1e3),action_source:"website",event_source_url:window.location.href,user_data:{client_ip_address:t.client_ip_address,client_user_agent:window.navigator.userAgent,em:t.email?E(t.email):void 0,ph:t.phone?S(t.phone):void 0},custom_data:{...t.custom_data,content_name:t.content_name,content_category:t.content_category,value:t.value,currency:t.currency||"USD"}}],access_token:k})});a.ok||console.error("Meta Conversions API error:",await a.text())}catch(e){console.error("Meta Conversions API error:",e)}},E=e=>btoa(e.toLowerCase().trim()),S=e=>btoa(e.replace(/\D/g,"")),C={pageView:()=>p("PageView"),completeRegistration:e=>{p("CompleteRegistration",e),y("CompleteRegistration",e)},lead:e=>{p("Lead",e),y("Lead",e)},purchase:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",a=arguments.length>2?arguments[2]:void 0,n={value:e,currency:t,...a};p("Purchase",n),y("Purchase",n)},addToCart:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",a=arguments.length>2?arguments[2]:void 0,n={value:e,currency:t,...a};p("AddToCart",n),y("AddToCart",n)},initiateCheckout:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",a=arguments.length>2?arguments[2]:void 0,n={value:e,currency:t,...a};p("InitiateCheckout",n),y("InitiateCheckout",n)},viewContent:e=>{p("ViewContent",e),y("ViewContent",e)},custom:(e,t)=>{p(e,t),y(e,t)},contact:e=>{p("Contact",e),y("Contact",e)},subscribe:e=>{p("Subscribe",e),y("Subscribe",e)},startTrial:e=>{p("StartTrial",e),y("StartTrial",e)},freeTrial:e=>{p("FreeTrial",e),y("FreeTrial",e)}};var L=a(7358);let U=L.env.NEXT_PUBLIC_GOOGLE_ADS_CONVERSION_ID||"";L.env.NEXT_PUBLIC_GOOGLE_ADS_CONVERSION_LABEL;let A={SIGNUP:L.env.NEXT_PUBLIC_GOOGLE_ADS_SIGNUP_LABEL||"",PURCHASE:L.env.NEXT_PUBLIC_GOOGLE_ADS_PURCHASE_LABEL||"",TRIAL:L.env.NEXT_PUBLIC_GOOGLE_ADS_TRIAL_LABEL||"",LEAD:L.env.NEXT_PUBLIC_GOOGLE_ADS_LEAD_LABEL||"",CONTACT:L.env.NEXT_PUBLIC_GOOGLE_ADS_CONTACT_LABEL||"",FEATURE_USAGE:L.env.NEXT_PUBLIC_GOOGLE_ADS_FEATURE_LABEL||""},P=()=>{if(U){window.dataLayer=window.dataLayer||[];let e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=AW-".concat(U),document.head.appendChild(e),e.onload=()=>{window.gtag("config","AW-".concat(U))}}},T=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD",n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;if(window.gtag&&U){let o={send_to:"AW-".concat(U,"/").concat(e),value:t,currency:a,transaction_id:n,...r};Object.keys(o).forEach(e=>{void 0===o[e]&&delete o[e]}),window.gtag("event","conversion",o)}},b=function(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"USD",r=arguments.length>4?arguments[4]:void 0;if(window.gtag&&U){let o=a||t.reduce((e,t)=>e+t.price*t.quantity,0),c={send_to:"AW-".concat(U,"/").concat(e),value:o,currency:n,transaction_id:r,items:t};window.gtag("event","conversion",c)}},D={trackSignup:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=e?A.SIGNUP:"";n&&T(n,t,"USD",void 0,{custom_parameter:{traffic_source:e?"paid":"organic",signup_source:a||"website"}})},trackPurchase:function(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=n?A.PURCHASE:"";r&&T(r,e,"USD",a,{custom_parameter:{plan_name:t,traffic_source:n?"paid":"organic"}})},trackTrial:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?A.TRIAL:"";a&&T(a,0,"USD",void 0,{custom_parameter:{plan_name:e,traffic_source:t?"paid":"organic"}})},trackLead:function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=a?A.LEAD:"";n&&T(n,t||0,"USD",void 0,{custom_parameter:{lead_source:e,traffic_source:a?"paid":"organic"}})},trackContact:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?A.CONTACT:"";a&&T(a,0,"USD",void 0,{custom_parameter:{contact_method:e,traffic_source:t?"paid":"organic"}})},trackFeatureUsage:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?A.FEATURE_USAGE:"";a&&T(a,0,"USD",void 0,{custom_parameter:{feature_name:e,traffic_source:t?"paid":"organic"}})},trackCustom:function(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n&&T(e,t,"USD",void 0,{custom_parameter:{...a,traffic_source:"paid"}})}},G={trackPurchaseWithItems:function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=a?A.PURCHASE:"";n&&b(n,e,void 0,"USD",t)},trackAddToCart:function(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];r&&window.gtag&&window.gtag("event","add_to_cart",{currency:"USD",value:a*n,items:[{item_id:e,item_name:t,price:a,quantity:n}]})},trackBeginCheckout:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&window.gtag){let t=e.reduce((e,t)=>e+t.price*t.quantity,0);window.gtag("event","begin_checkout",{currency:"USD",value:t,items:e})}}},I=()=>{let e=new URLSearchParams(window.location.search),t=e.get("gclid"),a=e.get("utm_source"),n=e.get("utm_medium"),r=e.get("utm_campaign"),o=document.referrer,c=o.includes("google.com")||o.includes("facebook.com")||o.includes("bing.com")||o.includes("linkedin.com");return!!(t||a&&n&&r||c)},O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,n=void 0!==a?a:I();"trackSignup"===e?D.trackSignup(n,t[0],t[1]):"trackPurchase"===e?D.trackPurchase(t[0],t[1],t[2],n):"trackTrial"===e?D.trackTrial(t[0],n):"trackLead"===e?D.trackLead(t[0],t[1],n):"trackContact"===e?D.trackContact(t[0],n):"trackFeatureUsage"===e&&D.trackFeatureUsage(t[0],n)},F=()=>{let e=(0,o.usePathname)();return(0,r.useEffect)(()=>{e&&(c(e),C.pageView())},[e]),(0,r.useEffect)(()=>{f()},[]),(0,r.useEffect)(()=>{P()},[]),{trackPageView:c,trackUserEngagement:s,trackFeatureUsage:l,trackConversion:u,trackError:g,gtmEvent:d,trackEcommerce:_,trackCustomData:v,metaPixelEvents:C,trackMetaPixelEvent:p,trackConversionsAPI:y,googleAdsConversions:D,googleAdsEcommerce:G,detectPaidTraffic:I,trackConversionByTraffic:O,trackLogin:()=>s("User Login"),trackSignup:()=>s("User Signup"),trackPostCreated:()=>l("Post Creation"),trackPostScheduled:()=>l("Post Scheduling"),trackImageEnhanced:()=>l("Image Enhancement"),trackPayment:e=>u("Payment",e),trackPlanUpgrade:e=>u("Plan Upgrade",void 0),trackErrorOccurred:e=>g(e),trackGTMConversion:(e,t)=>{d("conversion",{conversion_type:e,value:t})},trackGTMUserAction:(e,t)=>{d("user_action",{action:e,...t})},trackGTMFeatureUsage:(e,t)=>{d("feature_usage",{feature:e,...t})},trackGTMPurchase:(e,t,a)=>{_("purchase",{transaction_id:e,value:t,currency:"USD",items:a})},trackGTMAddToCart:(e,t,a)=>{_("add_to_cart",{currency:"USD",value:a,items:[{item_id:e,item_name:t,price:a,quantity:1}]})},trackMetaRegistration:(e,t)=>{C.completeRegistration({content_name:"User Registration",content_category:"Account",value:29.99*("pro"===t),currency:"USD",email:e})},trackMetaPurchase:(e,t,a)=>{C.purchase(e,"USD",{content_name:t,content_category:"Subscription",transaction_id:a})},trackMetaLead:(e,t)=>{C.lead({content_name:"Lead Generation",content_category:e,value:t||0,currency:"USD"})},trackMetaTrial:e=>{C.startTrial({content_name:e,content_category:"Trial",value:0,currency:"USD"})},trackMetaContact:e=>{C.contact({content_name:"Contact",content_category:e,value:0,currency:"USD"})},trackMetaSubscribe:(e,t)=>{C.subscribe({content_name:e,content_category:"Subscription",value:t,currency:"USD"})},trackGoogleAdsSignup:(e,t,a)=>{D.trackSignup(e,t,a)},trackGoogleAdsPurchase:(e,t,a,n)=>{D.trackPurchase(e,t,a,n)},trackGoogleAdsTrial:(e,t)=>{D.trackTrial(e,t)},trackGoogleAdsLead:(e,t,a)=>{D.trackLead(e,t,a)},trackGoogleAdsContact:(e,t)=>{D.trackContact(e,t)},trackGoogleAdsFeatureUsage:(e,t)=>{D.trackFeatureUsage(e,t)},trackSmartSignup:(e,t)=>{O("trackSignup",[e,t],I())},trackSmartPurchase:(e,t,a)=>{O("trackPurchase",[e,t,a],I())},trackSmartTrial:e=>{O("trackTrial",[e],I())},trackSmartLead:(e,t)=>{O("trackLead",[e,t],I())},trackSmartContact:e=>{O("trackContact",[e],I())},trackSmartFeatureUsage:e=>{O("trackFeatureUsage",[e],I())}}},N=(0,r.createContext)(void 0),B=()=>{let e=(0,r.useContext)(N);if(!e)throw Error("useAnalyticsContext must be used within an AnalyticsProvider");return e},M=e=>{let{children:t}=e,a=F();return(0,n.jsx)(N.Provider,{value:a,children:t})}}}]);