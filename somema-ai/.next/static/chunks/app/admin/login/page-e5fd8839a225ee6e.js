(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2116],{1007:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1848:(e,t,r)=>{Promise.resolve().then(r.bind(r,2868))},2657:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2868:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(5155),a=r(2115),i=r(5695),n=r(3168),l=r(9946);let c=(0,l.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var d=r(1007);let o=(0,l.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var u=r(2657);function m(){let[e,t]=(0,a.useState)(""),[r,l]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),[x,p]=(0,a.useState)(!1),[f,g]=(0,a.useState)(""),[y,w]=(0,a.useState)("");(0,i.useRouter)();let N="7c12a35b-353c-43ff-808b-f1c574df69e0",v=async t=>{t.preventDefault(),p(!0),g("");try{let{data:t,error:s}=await n.ND.auth.signInWithPassword({email:e,password:r});if(s){g("Invalid email or password"),p(!1);return}if(!t.user){g("Login failed"),p(!1);return}if(console.log("User ID check:",{userId:t.user.id,allowedId:N,matches:t.user.id===N}),t.user.id!==N){g("Access denied. Only authorized administrators can access this area."),await n.ND.auth.signOut(),p(!1);return}let{data:a,error:i}=await n.ND.rpc("get_user_admin_info",{user_uuid:t.user.id});if(console.log("Admin check result:",{adminInfo:a,adminError:i}),i){console.error("Admin check error:",i),g("Failed to verify admin privileges"),await n.ND.auth.signOut(),p(!1);return}if(!a||!Array.isArray(a)||0===a.length||!a[0].is_admin){g("Admin privileges not found. Contact system administrator."),await n.ND.auth.signOut(),p(!1);return}console.log("Admin check successful, proceeding to dashboard...");try{await n.ND.rpc("log_admin_action",{action_name:"admin_login",resource_type:"auth",action_details:{timestamp:new Date().toISOString(),ip_address:"client_ip",user_agent:navigator.userAgent}}),console.log("Admin action logged successfully")}catch(e){console.log("Admin action logging failed (non-critical):",e)}w("Login successful! Redirecting to admin dashboard..."),p(!1),console.log("Redirecting to admin dashboard..."),setTimeout(()=>{window.location.href="/admin/dashboard"},1500)}catch(e){console.error("Login error:",e),g("An unexpected error occurred"),p(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-red-100",children:(0,s.jsx)(c,{className:"h-6 w-6 text-red-600"})}),(0,s.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Access Required"}),(0,s.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your credentials to access the admin dashboard"})]}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:v,children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),(0,s.jsxs)("div",{className:"mt-1 relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(d.A,{className:"h-5 w-5 text-gray-400"})}),(0,s.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm",placeholder:"admin@yourdomain.com"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,s.jsxs)("div",{className:"mt-1 relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(c,{className:"h-5 w-5 text-gray-400"})}),(0,s.jsx)("input",{id:"password",name:"password",type:m?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:e=>l(e.target.value),className:"appearance-none relative block w-full pl-10 pr-12 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm",placeholder:"••••••••"}),(0,s.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>h(!m),children:m?(0,s.jsx)(o,{className:"h-5 w-5 text-gray-400"}):(0,s.jsx)(u.A,{className:"h-5 w-5 text-gray-400"})})]})]})]}),f&&(0,s.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,s.jsx)("div",{className:"flex",children:(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("h3",{className:"text-sm font-medium text-red-800",children:f})})})}),y&&(0,s.jsx)("div",{className:"rounded-md bg-green-50 p-4",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,s.jsx)("div",{className:"flex",children:(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("h3",{className:"text-sm font-medium text-green-800",children:y})})}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("button",{onClick:()=>window.location.href="/admin/dashboard",className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 text-sm",children:"Go to Admin Dashboard Now"})})]})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:x,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"Sign in to Admin"})})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Only authorized administrators can access this area"})})]})})}},3168:(e,t,r)=>{"use strict";r.d(t,{$G:()=>a,ND:()=>s});let s=(0,r(3865).createBrowserClient)("https://yfmypikqgegvookjzvyv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmbXlwaWtxZ2Vndm9va2p6dnl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3NTU3NDMsImV4cCI6MjA2NjMzMTc0M30.BX62nqWwNu23pRQYrzoR9EetesEkac3ZdAu2KKXwNxs",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Client-Info":"quely-ai-web"}}}),a=()=>"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmbXlwaWtxZ2Vndm9va2p6dnl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3NTU3NDMsImV4cCI6MjA2NjMzMTc0M30.BX62nqWwNu23pRQYrzoR9EetesEkac3ZdAu2KKXwNxs"},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var s=r(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),n=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:o="",children:u,iconNode:m,...h}=e;return(0,s.createElement)("svg",{ref:t,...d,width:a,height:a,stroke:r,strokeWidth:n?24*Number(i)/Number(a):i,className:l("lucide",o),...!u&&!c(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,s.forwardRef)((r,i)=>{let{className:c,...d}=r;return(0,s.createElement)(o,{ref:i,iconNode:t,className:l("lucide-".concat(a(n(e))),"lucide-".concat(e),c),...d})});return r.displayName=n(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[3865,8441,1684,7358],()=>t(1848)),_N_E=e.O()}]);