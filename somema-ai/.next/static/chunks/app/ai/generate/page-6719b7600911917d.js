(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8621],{3168:(e,t,s)=>{"use strict";s.d(t,{$G:()=>r,ND:()=>a});let a=(0,s(3865).createBrowserClient)("https://yfmypikqgegvookjzvyv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmbXlwaWtxZ2Vndm9va2p6dnl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3NTU3NDMsImV4cCI6MjA2NjMzMTc0M30.BX62nqWwNu23pRQYrzoR9EetesEkac3ZdAu2KKXwNxs",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Client-Info":"quely-ai-web"}}}),r=()=>"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmbXlwaWtxZ2Vndm9va2p6dnl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3NTU3NDMsImV4cCI6MjA2NjMzMTc0M30.BX62nqWwNu23pRQYrzoR9EetesEkac3ZdAu2KKXwNxs"},3311:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},3904:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},3999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>o});var a=s(2596),r=s(9688);function o(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}async function i(e){try{console.log("\uD83D\uDD04 Trying fallback HEIC conversion...");let t=await fetch(e),s=await t.blob(),a=document.createElement("canvas"),r=a.getContext("2d");if(!r)throw Error("Canvas context not available");let o=new Image;return new Promise((e,t)=>{o.onload=()=>{try{a.width=o.width,a.height=o.height,r.drawImage(o,0,0);let t=a.toDataURL("image/jpeg",.9);console.log("✅ Fallback HEIC conversion successful"),e(t)}catch(e){console.error("❌ Fallback conversion failed:",e),t(e)}},o.onerror=()=>{console.error("❌ Failed to load image for fallback conversion"),t(Error("Failed to load image"))},o.src=URL.createObjectURL(s)})}catch(e){throw console.error("❌ Fallback HEIC conversion failed:",e),e}}},4416:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4912:(e,t,s)=>{"use strict";s.d(t,{$:()=>i});var a=s(5155),r=s(2115),o=s(3999);let i=r.forwardRef((e,t)=>{let{className:s,variant:r="primary",size:i="md",loading:n=!1,children:l,disabled:c,...d}=e;return(0,a.jsxs)("button",{className:(0,o.cn)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 border border-gray-200",outline:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-50",ghost:"text-gray-900 hover:bg-gray-100",destructive:"bg-red-600 text-white hover:bg-red-700 border border-red-600"}[r],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"}[i],s),ref:t,disabled:c||n,...d,children:[n&&(0,a.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l]})});i.displayName="Button"},5196:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5648:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(5155),r=s(2115),o=s(5695),i=s(6874),n=s.n(i),l=s(3168),c=s(4912),d=s(6076),m=s(7550),u=s(3311),h=s(7213),p=s(3904),g=s(5196),x=s(4416),f=s(7358);let b=f.env.OPENAI_API_KEY,v="https://api.openai.com/v1";f.env.NEXT_PUBLIC_ANTHROPIC_API_KEY,f.env.NEXT_PUBLIC_CANVA_API_KEY;f.env.BASE_URL;async function y(e,t){try{let s={"Content-Type":"application/json"};t&&(s.Authorization=t);let a=await fetch("/api/analyze-image",{method:"POST",headers:s,body:JSON.stringify({imageUrl:e})});if(!a.ok){let e=await a.json();if(402===a.status)throw Error(e.error||"No post generation credits remaining. Please upgrade your plan or purchase more credits.");throw Error(e.error||"Failed to analyze image")}return(await a.json()).analysis}catch(e){if(console.error("CLIP image analysis error:",e),e instanceof Error&&e.message.includes("credits"))throw e;throw Error("Failed to analyze image")}}function w(){var e;let[t,s]=(0,r.useState)(!1),[i,f]=(0,r.useState)(!1),[b,v]=(0,r.useState)(!1),[w,N]=(0,r.useState)(null),[j,I]=(0,r.useState)(""),[_,k]=(0,r.useState)(""),[S,E]=(0,r.useState)(null),[C,A]=(0,r.useState)(""),[P,D]=(0,r.useState)(null),[M,U]=(0,r.useState)([]),[z,L]=(0,r.useState)(!1),[R,O]=(0,r.useState)(null),[F,J]=(0,r.useState)(null),[T,B]=(0,r.useState)(new Date().toISOString().slice(0,16));(0,r.useRef)(null);let W=(0,o.useRouter)();(0,r.useEffect)(()=>{(async()=>{try{let{data:{user:e}}=await l.ND.auth.getUser();if(e){let{data:t}=await l.ND.from("user_profiles").select("*").eq("user_id",e.id).single();D(t),await V()}}catch(e){console.error("Error fetching user profile:",e)}})()},[]);let V=async()=>{try{let{data:{user:e}}=await l.ND.auth.getUser();if(!e)return;let{data:t,error:s}=await l.ND.from("media").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(s)throw s;U(t||[])}catch(e){console.error("Error loading media library:",e)}},X=(e,t)=>e?e.type.startsWith("video/"):!!t&&t.mime_type.startsWith("video/"),G=e=>{O(e),I(e.file_path),N(null)},H=async()=>{if(!j)return void A("Please select an image or video first");f(!0),A("");let{data:{user:e}}=await l.ND.auth.getUser();if(!e){A("User not authenticated. Please log in again."),f(!1);return}try{var t,s,a;let r=j;k(j);let o=!1;if(w?(w.type,o=w.type.startsWith("video/")):R&&(R.mime_type,o=R.mime_type.startsWith("video/")),w){let s=(null==(t=w.name)?void 0:t.split(".").pop())||"jpg",a="".concat(Date.now(),"-").concat(Math.random().toString(36).substring(7),".").concat(s),o="media/".concat(e.id,"/").concat(a),{error:i}=await l.ND.storage.from("media").upload(o,w);if(i)throw i;let{data:{publicUrl:n}}=l.ND.storage.from("media").getPublicUrl(o);r=n}let i=null;if(o){if(console.log("\uD83C\uDFA5 Processing video - skipping analysis, generating content from business profile"),!P){A("Business profile required for video content generation. Please complete your profile setup."),f(!1);return}let t={businessContext:P.business_name||"our business",platform:"instagram",theme:"reel",customPrompt:"Create engaging Instagram Reel content for ".concat(P.business_name||"our business",". Business type: ").concat(P.business_type||"general business",". Target audience: ").concat(P.target_audience||"general audience","."),tone:P.content_tone||"friendly",targetAudience:P.target_audience||"General audience",niche:P.business_type||"General"};console.log("\uD83C\uDFA5 Generating video content with request:",t);let o=await fetch("/api/generate-video-content",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.id)},body:JSON.stringify({request:t})});if(!o.ok){let e=await o.json();throw Error(e.error||"Failed to generate video content")}let i=await o.json();console.log("\uD83C\uDFA5 Video content generated:",i);let n={caption:(null==(s=i.result)?void 0:s.caption)||"",hashtags:(null==(a=i.result)?void 0:a.hashtags)||[],textElements:{headline:"",subtext:"Generated for your video",cta:"Watch Now"}};if(E(n),P){let e={imageUrl:r,caption:n.caption,hashtags:n.hashtags,textElements:n.textElements,businessContext:P.business_name||"our business",platform:"instagram",theme:"product"};try{let{data:{user:e}}=await l.ND.auth.getUser();if(e){let t={user_id:e.id,caption:n.caption,hashtags:n.hashtags,platform:"instagram",status:"draft",content_type:"product",text_elements:n.textElements,business_context:P.business_name||"our business",theme:"product",media_url:r};console.log("Attempting to insert video post data:",t);let{data:s,error:a}=await l.ND.from("posts").insert(t).select().single();if(a)throw console.error("Error saving video post to Supabase:",a),a;console.log("Video post saved to Supabase:",s),W.push("/posts/editor?postId=".concat(s.id));return}}catch(t){console.error("Failed to save video post to Supabase:",t),localStorage.setItem("postEditorData",JSON.stringify(e)),W.push("/posts/editor");return}}else{let e={imageUrl:r,caption:n.caption,hashtags:n.hashtags,textElements:n.textElements,businessContext:"our business",platform:"instagram",theme:"product"};localStorage.setItem("postEditorData",JSON.stringify(e)),W.push("/posts/editor");return}}else{console.log("Starting CLIP analysis for image:",r.substring(0,100)+"...");let{data:{user:e}}=await l.ND.auth.getUser();if(!e)throw Error("User not authenticated");if(i=await y(r,"Bearer ".concat(e.id)),console.log("CLIP Analysis Results:",i),J(i),P){console.log("Generating Instagram content automatically...");try{let t=await fetch("/api/generate-instagram-content",{method:"POST",headers:{"Content-Type":"application/json",...(null==e?void 0:e.id)?{Authorization:"Bearer ".concat(e.id)}:{}},body:JSON.stringify({imageAnalysis:i,businessProfile:P})});if(t.ok){let e=await t.json();console.log("Generated Instagram content:",e.result);let s={caption:e.result.caption,hashtags:e.result.hashtags,textElements:{headline:"",subtext:"Generated for ".concat(P.business_name),cta:"Shop Now"}};E(s);let a={imageUrl:r,caption:s.caption,hashtags:s.hashtags,textElements:s.textElements,businessContext:P.business_name||"our business",platform:"instagram",theme:"product"};try{let{data:{user:e}}=await l.ND.auth.getUser();if(e){let t={user_id:e.id,caption:s.caption,hashtags:s.hashtags,platform:"instagram",status:"draft",content_type:"product",text_elements:s.textElements,business_context:P.business_name||"our business",theme:"product",media_url:r};console.log("Attempting to insert post data:",t);let{data:a,error:o}=await l.ND.from("posts").insert(t).select().single();if(o)throw console.error("Error saving post to Supabase:",o),o;console.log("Post saved to Supabase:",a),W.push("/posts/editor?postId=".concat(a.id))}}catch(e){console.error("Failed to save post to Supabase:",e),localStorage.setItem("postEditorData",JSON.stringify(a)),W.push("/posts/editor")}return}{let e={caption:"Check out these amazing ".concat(i.classification,"! ").concat(i.caption),hashtags:i.tags,textElements:{headline:"",subtext:"Confidence: ".concat((100*i.confidence).toFixed(1),"%"),cta:"Shop Now"}};E(e);let t={imageUrl:r,caption:e.caption,hashtags:e.hashtags,textElements:e.textElements,businessContext:P.business_name||"our business",platform:"instagram",theme:"product"};try{let{data:{user:t}}=await l.ND.auth.getUser();if(t){let{data:s,error:a}=await l.ND.from("posts").insert({user_id:t.id,caption:e.caption,hashtags:e.hashtags,platform:"instagram",status:"draft",content_type:"product",text_elements:e.textElements,business_context:P.business_name||"our business",theme:"product",media_url:r}).select().single();if(a)throw console.error("Error saving fallback post to Supabase:",a),a;console.log("Fallback post saved to Supabase:",s),W.push("/posts/editor?postId=".concat(s.id))}}catch(e){console.error("Failed to save fallback post to Supabase:",e),localStorage.setItem("postEditorData",JSON.stringify(t)),W.push("/posts/editor")}return}}catch(s){console.error("Error generating Instagram content:",s);let e={caption:"Amazing ".concat(i.classification," from ").concat(P.business_name,"! ").concat(i.caption),hashtags:i.tags,textElements:{headline:"",subtext:"Confidence: ".concat((100*i.confidence).toFixed(1),"%"),cta:"Shop Now"}};E(e);let t={imageUrl:r,caption:e.caption,hashtags:e.hashtags,textElements:e.textElements,businessContext:P.business_name||"our business",platform:"instagram",theme:"product"};localStorage.setItem("postEditorData",JSON.stringify(t)),W.push("/posts/editor");return}}{let e={caption:"Image Analysis: ".concat(i.caption),hashtags:i.tags,textElements:{headline:"",subtext:"Confidence: ".concat((100*i.confidence).toFixed(1),"%"),cta:"Analysis Complete"}};E(e)}}}catch(e){console.error("Image processing error:",e),A(e.message||"Failed to process image")}finally{f(!1)}},Z=async()=>{if(S){s(!0),A("");try{let{data:{user:e}}=await l.ND.auth.getUser();if(!e)return void A("Please log in to save your post");let t={user_id:e.id,caption:S.caption,hashtags:S.hashtags,platform:"instagram",status:"draft",scheduled_for:T?new Date(T).toISOString():new Date().toISOString(),content_type:"product",text_elements:S.textElements||{headline:"Amazing Headline",subtext:"Compelling subtext that draws attention",cta:"Learn More"}};_&&(t.media_url=_);let{data:s,error:a}=await l.ND.from("posts").insert(t).select();if(a)throw a;A("Post saved successfully!"),W.push("/dashboard")}catch(e){A(e.message)}finally{s(!1)}}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-purple-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(n(),{href:"/dashboard",children:(0,a.jsxs)(c.$,{variant:"ghost",size:"sm",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.A,{className:"h-6 w-6 text-purple-600 mr-2"}),(0,a.jsx)("h1",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Instagram Post Generator"})]})]})})}),(0,a.jsx)("div",{className:"max-w-2xl mx-auto px-2 sm:px-4 lg:px-8 py-6 sm:py-8",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4 sm:p-6",children:[C&&(0,a.jsx)("div",{className:"mb-4 p-3 sm:p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-red-800 text-xs sm:text-sm",children:C})}),(0,a.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-base sm:text-lg font-medium text-gray-900",children:"Add Your Product Photo"}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Select from your validated media library"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(h.A,{className:"h-5 w-5 text-purple-600"}),(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900",children:"Select from Media Library"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Select from your validated media library"}),(0,a.jsxs)("button",{onClick:V,className:"text-purple-600 hover:text-purple-700 text-sm font-medium flex items-center",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-1"}),"Refresh"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-4 max-h-64 overflow-y-auto",children:0===M.length?(0,a.jsxs)("div",{className:"col-span-3 text-center py-8",children:[(0,a.jsx)(h.A,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"No media files found"}),(0,a.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"Upload files to your media library first"}),(0,a.jsx)(n(),{href:"/media",className:"inline-block mt-3 text-purple-600 hover:text-purple-700 text-sm font-medium",children:"Go to Media Library →"})]}):M.map(e=>(0,a.jsxs)("div",{onClick:()=>G(e),className:"relative cursor-pointer rounded-lg border-2 transition-colors ".concat((null==R?void 0:R.id)===e.id?"border-purple-500 bg-gradient-to-r from-purple-50 to-blue-50":"border-gray-300 hover:border-gray-400"),children:[e.mime_type&&e.mime_type.startsWith("video/")||e.file_path.match(/\.(mp4|webm|mov)$/i)?(0,a.jsx)("video",{src:e.file_path,className:"w-full h-24 object-cover rounded-lg",controls:!0}):(0,a.jsx)("img",{src:e.file_path,alt:e.file_name,className:"w-full h-24 object-cover rounded-lg"}),(null==R?void 0:R.id)===e.id&&(0,a.jsx)("div",{className:"absolute top-1 right-1 bg-blue-500 text-white rounded-full p-1",children:(0,a.jsx)(g.A,{className:"h-3 w-3"})})]},e.id))})]}),R&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900",children:"Selected Media"}),(0,a.jsxs)("div",{className:"relative",children:[X(w,R)?(0,a.jsx)("video",{src:R.file_path,controls:!0,autoPlay:!0,className:"w-full h-64 object-cover rounded-lg"}):(0,a.jsx)("img",{src:R.file_path,alt:"Preview",className:"w-full h-64 object-cover rounded-lg"}),(0,a.jsx)("button",{onClick:()=>{O(null),I("")},className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600",children:(0,a.jsx)(x.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)("div",{className:"mt-8 flex gap-3 justify-center",children:(0,a.jsxs)(c.$,{onClick:H,loading:i,className:"btn-generate",disabled:!j,children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),i?"Generating Post...":"Generate Post"]})})]}),S&&(0,a.jsxs)("div",{className:"mt-10",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Post Preview"}),_&&(0,a.jsx)("div",{className:"mb-4 flex justify-center",children:(0,a.jsx)("div",{style:{width:"270px",aspectRatio:"9/16",background:"#000",borderRadius:"1rem",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:X(w,R)?(0,a.jsx)("video",{src:j,controls:!0,className:"w-full h-full object-cover",style:{aspectRatio:"9/16"},onError:e=>{console.error("❌ Video preview error:",e);let t=e.target;t.style.display="none";let s=t.parentElement;s&&(s.innerHTML='<div class="flex items-center justify-center text-white text-center p-4"><div><div class="text-2xl mb-2">\uD83C\uDFA5</div><div class="text-sm">Video Preview</div><div class="text-xs opacity-75 mt-1">'+((null==w?void 0:w.name)||"Unknown file")+'</div><div class="text-xs opacity-50 mt-2">Preview not available</div></div></div>')},onLoadStart:()=>console.log("\uD83C\uDFAC Video loading started"),onCanPlay:()=>console.log("▶️ Video can play"),onLoadedData:()=>console.log("\uD83D\uDCF9 Video data loaded")}):(0,a.jsx)("img",{src:j,alt:"Preview",className:"w-full h-full object-cover",style:{aspectRatio:"9/16"},onError:e=>{console.error("❌ Image preview error:",e);let t=e.target;t.style.display="none";let s=t.parentElement;s&&(s.innerHTML='<div class="flex items-center justify-center text-white text-center p-4"><div><div class="text-2xl mb-2">\uD83D\uDDBC️</div><div class="text-sm">Image Preview</div><div class="text-xs opacity-75 mt-1">'+((null==w?void 0:w.name)||"Unknown file")+"</div></div></div>")}})})}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caption"}),(0,a.jsx)("textarea",{value:S.caption,onChange:e=>E({...S,caption:e.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg resize-none",rows:4})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hashtags"}),(0,a.jsx)(d.p,{value:(null==(e=S.hashtags)?void 0:e.map(e=>e.startsWith("#")?e:"#".concat(e)).join(" "))||"",onChange:e=>E({...S,hashtags:e.target.value.split(/\s+/).filter(Boolean).map(e=>e.startsWith("#")?e:"#".concat(e))}),className:"w-full p-3 border border-gray-300 rounded-lg"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheduled For"}),(0,a.jsx)("input",{type:"datetime-local",value:T,onChange:e=>B(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(c.$,{onClick:Z,loading:t,className:"flex-1",children:"Save as Draft"}),(0,a.jsx)(c.$,{onClick:Z,loading:t,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:"Post Now"}),(0,a.jsx)(c.$,{onClick:()=>{E(null),k(""),N(null),I(""),O(null)},className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:"Create Another Post"})]})]})]})})]})}},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},6076:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var a=s(5155),r=s(2115),o=s(3999);let i=r.forwardRef((e,t)=>{let{className:s,type:i,label:n,error:l,helperText:c,id:d,...m}=e,u=(0,r.useId)(),h=d||"input-".concat(u);return(0,a.jsxs)("div",{className:"w-full",children:[n&&(0,a.jsx)("label",{htmlFor:h,className:"block text-sm font-medium text-gray-700 mb-1",children:n}),(0,a.jsx)("input",{type:i,className:(0,o.cn)("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",l&&"border-red-500 focus-visible:ring-red-500",s),ref:t,id:h,...m}),l&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:l}),c&&!l&&(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:c})]})});i.displayName="Input"},6523:(e,t,s)=>{Promise.resolve().then(s.bind(s,5648))},7213:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},7550:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9946:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var a=s(2115);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),i=e=>{let t=o(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:d="",children:m,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:t,...c,width:r,height:r,stroke:s,strokeWidth:i?24*Number(o)/Number(r):o,className:n("lucide",d),...!m&&!l(h)&&{"aria-hidden":"true"},...h},[...u.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(m)?m:[m]])}),m=(e,t)=>{let s=(0,a.forwardRef)((s,o)=>{let{className:l,...c}=s;return(0,a.createElement)(d,{ref:o,iconNode:t,className:n("lucide-".concat(r(i(e))),"lucide-".concat(e),l),...c})});return s.displayName=i(e),s}}},e=>{var t=t=>e(e.s=t);e.O(0,[3865,4277,6874,8441,1684,7358],()=>t(6523)),_N_E=e.O()}]);