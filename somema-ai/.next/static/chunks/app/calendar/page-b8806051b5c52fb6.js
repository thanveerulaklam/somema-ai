(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5085],{488:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]])},2355:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},2525:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2657:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3052:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},3168:(e,t,s)=>{"use strict";s.d(t,{$G:()=>a,ND:()=>r});let r=(0,s(3865).createBrowserClient)("https://yfmypikqgegvookjzvyv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmbXlwaWtxZ2Vndm9va2p6dnl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3NTU3NDMsImV4cCI6MjA2NjMzMTc0M30.BX62nqWwNu23pRQYrzoR9EetesEkac3ZdAu2KKXwNxs",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Client-Info":"quely-ai-web"}}}),a=()=>"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmbXlwaWtxZ2Vndm9va2p6dnl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3NTU3NDMsImV4cCI6MjA2NjMzMTc0M30.BX62nqWwNu23pRQYrzoR9EetesEkac3ZdAu2KKXwNxs"},3517:(e,t,s)=>{Promise.resolve().then(s.bind(s,5616))},3717:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},3999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var r=s(2596),a=s(9688);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}async function n(e){try{console.log("\uD83D\uDD04 Trying fallback HEIC conversion...");let t=await fetch(e),s=await t.blob(),r=document.createElement("canvas"),a=r.getContext("2d");if(!a)throw Error("Canvas context not available");let l=new Image;return new Promise((e,t)=>{l.onload=()=>{try{r.width=l.width,r.height=l.height,a.drawImage(l,0,0);let t=r.toDataURL("image/jpeg",.9);console.log("✅ Fallback HEIC conversion successful"),e(t)}catch(e){console.error("❌ Fallback conversion failed:",e),t(e)}},l.onerror=()=>{console.error("❌ Failed to load image for fallback conversion"),t(Error("Failed to load image"))},l.src=URL.createObjectURL(s)})}catch(e){throw console.error("❌ Fallback HEIC conversion failed:",e),e}}},4186:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4616:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4912:(e,t,s)=>{"use strict";s.d(t,{$:()=>n});var r=s(5155),a=s(2115),l=s(3999);let n=a.forwardRef((e,t)=>{let{className:s,variant:a="primary",size:n="md",loading:i=!1,children:c,disabled:d,...o}=e;return(0,r.jsxs)("button",{className:(0,l.cn)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 border border-gray-200",outline:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-50",ghost:"text-gray-900 hover:bg-gray-100",destructive:"bg-red-600 text-white hover:bg-red-700 border border-red-600"}[a],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"}[n],s),ref:t,disabled:d||i,...o,children:[i&&(0,r.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c]})});n.displayName="Button"},5616:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var r=s(5155),a=s(2115),l=s(5695),n=s(6874),i=s.n(n),c=s(3168),d=s(4912),o=s(5684),h=s(488),m=s(8175),u=s(7550),x=s(9074),g=s(4616),p=s(2355),y=s(3052),f=s(4186),b=s(2657),v=s(3717),w=s(2525);function j(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[j,N]=(0,a.useState)(new Date),[k,A]=(0,a.useState)(null),[I,C]=(0,a.useState)("month"),[M,z]=(0,a.useState)(""),D=(0,l.useRouter)();(0,a.useEffect)(()=>{S()},[]);let S=async()=>{try{let{data:{user:e}}=await c.ND.auth.getUser();if(!e)return void D.push("/login");let{data:s,error:r}=await c.ND.from("posts").select("*").eq("user_id",e.id).order("scheduled_for",{ascending:!0});if(r)throw r;t(s||[])}catch(e){z(e.message)}finally{n(!1)}},E=t=>e.filter(e=>new Date(e.scheduled_for).toDateString()===t.toDateString()),R=e=>{switch(e){case"instagram":default:return o.A;case"facebook":return h.A;case"twitter":return m.A}},F=e=>{switch(e){case"draft":return"bg-blue-100 text-blue-800";case"scheduled":return"bg-red-100 text-red-800";case"published":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},J=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),$=e=>{A(e)};return s?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(i(),{href:"/dashboard",children:(0,r.jsxs)(d.$,{variant:"ghost",size:"sm",children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(x.A,{className:"h-6 w-6 text-purple-600 mr-2"}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Content Calendar"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.$,{variant:"month"===I?"primary":"outline",size:"sm",onClick:()=>C("month"),children:"Month"}),(0,r.jsx)(d.$,{variant:"week"===I?"primary":"outline",size:"sm",onClick:()=>C("week"),children:"Week"}),(0,r.jsx)(i(),{href:"/ai/generate",children:(0,r.jsxs)(d.$,{size:"sm",children:[(0,r.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"New Post"]})})]})]})})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("button",{onClick:()=>{N(new Date(j.getFullYear(),j.getMonth()-1,1))},className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,r.jsx)(p.A,{className:"h-5 w-5"})}),(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:j.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,r.jsx)("button",{onClick:()=>{N(new Date(j.getFullYear(),j.getMonth()+1,1))},className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,r.jsx)(y.A,{className:"h-5 w-5"})})]}),(0,r.jsx)(d.$,{onClick:()=>N(new Date),variant:"outline",size:"sm",children:"Today"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-7 gap-px bg-gray-200 rounded-lg overflow-hidden",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,r.jsx)("div",{className:"bg-gray-50 p-3 text-center",children:(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e})},e)),(e=>{let t=e.getFullYear(),s=e.getMonth(),r=new Date(t,s,1),a=new Date(t,s+1,0).getDate(),l=r.getDay(),n=[];for(let e=0;e<l;e++)n.push(null);for(let e=1;e<=a;e++)n.push(new Date(t,s,e));return n})(j).map((e,t)=>{let s=e?E(e):[],a=!!e&&e.toDateString()===new Date().toDateString(),l=!!k&&!!e&&e.toDateString()===k.toDateString();return(0,r.jsx)("div",{className:"min-h-[120px] bg-white p-2 ".concat(a?"bg-blue-50":""," ").concat(l?"ring-2 ring-blue-500":""),children:e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium ".concat(a?"text-blue-600":"text-gray-900"),children:e.getDate()}),s.length>0&&(0,r.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:s.length})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[s.slice(0,2).map(t=>{let s=R(t.platform);return(0,r.jsxs)("div",{className:"flex items-center gap-1 p-1 rounded text-xs cursor-pointer hover:bg-gray-100 ".concat(F(t.status)),onClick:()=>$(e),children:[(0,r.jsx)(s,{className:"h-3 w-3"}),(0,r.jsxs)("span",{className:"truncate",children:[t.caption.substring(0,15),"..."]})]},t.id)}),s.length>2&&(0,r.jsxs)("div",{className:"text-xs text-gray-500 text-center",children:["+",s.length-2," more"]})]})]})},t)})]})]}),k&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Posts for ",k.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),(0,r.jsx)(i(),{href:"/ai/generate",children:(0,r.jsxs)(d.$,{size:"sm",children:[(0,r.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Add Post"]})})]}),0===E(k).length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(x.A,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"No posts scheduled for this date"})]}):(0,r.jsx)("div",{className:"space-y-4",children:E(k).map(e=>{let t=R(e.platform);return(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(t,{className:"h-5 w-5 text-gray-600"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900 capitalize",children:e.platform})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(f.A,{className:"h-4 w-4 text-gray-400"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:J(e.scheduled_for)})]}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(F(e.status)),children:e.status})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.$,{size:"sm",variant:"outline",children:(0,r.jsx)(b.A,{className:"h-4 w-4"})}),(0,r.jsx)(d.$,{size:"sm",variant:"outline",children:(0,r.jsx)(v.A,{className:"h-4 w-4"})}),(0,r.jsx)(d.$,{size:"sm",variant:"outline",children:(0,r.jsx)(w.A,{className:"h-4 w-4"})})]})]},e.id)})})]}),M&&(0,r.jsx)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-red-800 text-sm",children:M})})]})]})}},5684:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},7550:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8175:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},9074:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9946:(e,t,s)=>{"use strict";s.d(t,{A:()=>h});var r=s(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),n=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:o="",children:h,iconNode:m,...u}=e;return(0,r.createElement)("svg",{ref:t,...d,width:a,height:a,stroke:s,strokeWidth:n?24*Number(l)/Number(a):l,className:i("lucide",o),...!h&&!c(u)&&{"aria-hidden":"true"},...u},[...m.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(h)?h:[h]])}),h=(e,t)=>{let s=(0,r.forwardRef)((s,l)=>{let{className:c,...d}=s;return(0,r.createElement)(o,{ref:l,iconNode:t,className:i("lucide-".concat(a(n(e))),"lucide-".concat(e),c),...d})});return s.displayName=n(e),s}}},e=>{var t=t=>e(e.s=t);e.O(0,[3865,4277,6874,8441,1684,7358],()=>t(3517)),_N_E=e.O()}]);