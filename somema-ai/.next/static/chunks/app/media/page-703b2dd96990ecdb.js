(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1049],{280:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var i=a(5155),l=a(2115),s=a(5695),r=a(6874),o=a.n(r),n=a(3168),c=a(4912),d=a(6076);let m=(0,a(9946).A)("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);var u=a(7213),h=a(9803),g=a(7550),p=a(9869),f=a(4416),x=a(7924),v=a(2657),y=a(1788),b=a(2525);let w=e=>{let{src:t,fileName:a,className:s}=e,r=(0,l.useRef)(null),[o,n]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!0),[h,g]=(0,l.useState)(!1),[p,f]=(0,l.useState)(!0);(0,l.useEffect)(()=>{let e=setTimeout(()=>{p&&!c&&(console.warn("Video loading timeout for:",a,"src:",t),d(!0),f(!1))},15e3);return()=>clearTimeout(e)},[p,c,a,t]),(0,l.useEffect)(()=>{f(!0),d(!1),n(!1)},[t]);let x=()=>{console.error("VideoThumbnail error for:",a,"src:",t),d(!0),f(!1)},v=()=>{r.current&&(r.current.muted=!r.current.muted,u(r.current.muted))};return c?(0,i.jsx)("div",{className:"".concat(s," bg-gray-200 flex items-center justify-center group relative overflow-hidden cursor-pointer"),onClick:()=>{window.open(t,"_blank")},children:(0,i.jsxs)("div",{className:"text-gray-500 text-center",children:[(0,i.jsx)("div",{className:"text-2xl mb-2",children:"\uD83C\uDFA5"}),(0,i.jsx)("div",{className:"text-xs font-medium",children:"Video"}),(0,i.jsx)("div",{className:"text-xs opacity-75 mt-1 truncate max-w-full px-2",children:a}),(0,i.jsx)("div",{className:"text-xs opacity-50 mt-1",children:"Click to view"})]})}):p?(0,i.jsx)("div",{className:"".concat(s," bg-gray-200 flex items-center justify-center group relative overflow-hidden"),children:(0,i.jsxs)("div",{className:"text-gray-500 text-center",children:[(0,i.jsx)("div",{className:"text-2xl mb-2 animate-pulse",children:"\uD83C\uDFA5"}),(0,i.jsx)("div",{className:"text-xs font-medium",children:"Loading..."}),(0,i.jsx)("div",{className:"text-xs opacity-75 mt-1 truncate max-w-full px-2",children:a})]})}):(0,i.jsxs)("div",{className:"".concat(s," bg-gray-200 flex items-center justify-center group relative overflow-hidden cursor-pointer"),onClick:()=>{r.current&&(o?r.current.pause():r.current.play().catch(console.error))},onMouseEnter:()=>g(!0),onMouseLeave:()=>{g(!1),r.current&&o&&r.current.pause()},children:[(0,i.jsx)("video",{ref:r,src:t,className:"w-full h-full object-cover",muted:m,playsInline:!0,loop:!0,preload:"metadata",onPlay:()=>{n(!0)},onPause:()=>{n(!1)},onError:e=>{console.error("Video element error for:",a,"src:",t,"error:",e),x()},onLoadedMetadata:()=>{console.log("Video metadata loaded successfully for:",a,"src:",t),f(!1)},onCanPlay:()=>{console.log("Video can play for:",a,"src:",t),f(!1)},onLoadStart:()=>{console.log("Video load started for:",a,"src:",t)},onLoadedData:()=>{console.log("Video data loaded for:",a,"src:",t),f(!1)},onMouseEnter:e=>{e.currentTarget.play().catch(e=>{console.error("Video play error:",e)})}}),!o&&(0,i.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:(0,i.jsx)("div",{className:"bg-white bg-opacity-95 backdrop-blur-sm rounded-full p-4 shadow-2xl hover:bg-opacity-100 hover:scale-110 transition-all duration-200 cursor-pointer",children:(0,i.jsx)("svg",{className:"w-8 h-8 text-gray-800 ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{d:"M8 5v14l11-7z"})})})}),o&&h&&(0,i.jsx)("div",{className:"absolute top-3 right-3",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:(0,i.jsx)("button",{onClick:e=>{e.stopPropagation(),v()},className:"bg-black bg-opacity-70 hover:bg-opacity-90 rounded-full p-2.5 shadow-lg hover:scale-110 transition-all duration-200 backdrop-blur-sm",title:m?"Unmute":"Mute",children:m?(0,i.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"})}):(0,i.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})})}),(0,i.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-1 truncate",children:a})]})};function N(){let[e,t]=(0,l.useState)([]),[r,N]=(0,l.useState)(!0),[j,C]=(0,l.useState)(!1),[_,A]=(0,l.useState)(""),[k,D]=(0,l.useState)([]),[E,I]=(0,l.useState)(""),[R,S]=(0,l.useState)("grid"),[L,z]=(0,l.useState)(null),M=(0,l.useRef)(null),U=(0,s.useRouter)(),O=async(e,t)=>{try{await fetch("/api/debug-media",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e,data:t})})}catch(e){console.error("Failed to log to terminal:",e)}},T=e=>new Promise(t=>{let a=e.name.toLowerCase().split(".").pop(),i={allowedContainers:["mp4","mov"],maxFileSize:524288e3},l=[];if(a&&i.allowedContainers.includes(a)||l.push("Container must be MP4 or MOV (current: ".concat(a||"unknown",")")),e.size>i.maxFileSize&&l.push("File size must be ".concat((i.maxFileSize/1048576).toFixed(0),"MB or less (current: ").concat((e.size/1048576).toFixed(1),"MB)")),l.length>0){console.log("❌ Basic video validation failed:",l),O("VIDEO_VALIDATION_FAILED",{fileName:e.name,errors:l,fileSize:e.size}),t({isValid:!1,error:l.join(", ")});return}try{let l,s=document.createElement("video");s.preload="metadata",s.muted=!0,s.playsInline=!0,s.crossOrigin="anonymous",s.setAttribute("webkit-playsinline","true"),s.setAttribute("playsinline","true");let r=!1,o=e=>{r||(r=!0,l&&clearTimeout(l),t(e))};s.onloadedmetadata=()=>{if(r)return;let t=s.videoWidth,l=s.videoHeight,n=t/l,c=s.duration;console.log("\uD83C\uDFAC Video validation successful:",{width:t,height:l,aspectRatio:n,duration:c,fileName:e.name,fileSize:e.size}),O("VIDEO_VALIDATION_SUCCESS",{fileName:e.name,width:t,height:l,aspectRatio:n,duration:c,fileSize:e.size});let d={maxWidth:1920,minAspectRatio:.55,maxAspectRatio:1.78,minDuration:3,maxDuration:900},m=[];t>d.maxWidth&&m.push("Width must be ".concat(d.maxWidth,"px or less (current: ").concat(t,"px)")),(n<d.minAspectRatio||n>d.maxAspectRatio)&&m.push("Aspect ratio must be between 9:16 (".concat(d.minAspectRatio,") and 16:9 (").concat(d.maxAspectRatio,") (current: ").concat(n.toFixed(2),")")),c<d.minDuration&&m.push("Duration must be at least ".concat(d.minDuration," seconds (current: ").concat(c.toFixed(1),"s)")),c>d.maxDuration&&m.push("Duration must be ".concat(d.maxDuration," seconds or less (current: ").concat(c.toFixed(1),"s)"));let u=0===m.length;u?console.log("✅ Video is Instagram-compatible"):(console.log("❌ Video is not Instagram-compatible:",m),O("VIDEO_VALIDATION_FAILED",{fileName:e.name,errors:m,width:t,height:l,aspectRatio:n,duration:c,fileSize:e.size}));let h={width:t,height:l,aspectRatio:n,duration:c,fileSize:e.size,container:a,mimeType:e.type,fileName:e.name,frameRate:null,hasAudio:null,instagramCompatible:u,requirements:{maxWidth:d.maxWidth,aspectRatioRange:"".concat(d.minAspectRatio," to ").concat(d.maxAspectRatio),durationRange:"".concat(d.minDuration,"s to ").concat(d.maxDuration,"s"),maxFileSize:"".concat((i.maxFileSize/1048576).toFixed(0),"MB"),allowedContainers:i.allowedContainers}};o({isValid:u,error:m.length>0?m.join(", "):void 0,details:h})},s.onerror=t=>{console.error("❌ Video metadata loading failed:",t),O("VIDEO_VALIDATION_ERROR",{fileName:e.name,error:"Could not load video metadata - Instagram compatibility unknown"}),console.warn("⚠️ Allowing video upload despite metadata loading failure (production fallback)");let l={width:null,height:null,aspectRatio:null,duration:null,fileSize:e.size,container:a,mimeType:e.type,fileName:e.name,frameRate:null,hasAudio:null,instagramCompatible:!0,requirements:{maxFileSize:"".concat((i.maxFileSize/1048576).toFixed(0),"MB"),allowedContainers:i.allowedContainers}};o({isValid:!0,details:l})},l=setTimeout(()=>{console.warn("⚠️ Video validation timeout - allowing upload with warning"),O("VIDEO_VALIDATION_TIMEOUT",{fileName:e.name});let t={width:null,height:null,aspectRatio:null,duration:null,fileSize:e.size,container:a,mimeType:e.type,fileName:e.name,frameRate:null,hasAudio:null,instagramCompatible:!0,requirements:{maxFileSize:"".concat((i.maxFileSize/1048576).toFixed(0),"MB"),allowedContainers:i.allowedContainers}};o({isValid:!0,details:t})},15e3);let n=URL.createObjectURL(e);s.src=n,setTimeout(()=>{URL.revokeObjectURL(n)},2e4)}catch(l){console.error("❌ Video validation error:",l),O("VIDEO_VALIDATION_ERROR",{fileName:e.name,error:l instanceof Error?l.message:"Unknown error"}),t({isValid:!0,details:{width:null,height:null,aspectRatio:null,duration:null,fileSize:e.size,container:a,mimeType:e.type,fileName:e.name,frameRate:null,hasAudio:null,instagramCompatible:!0,requirements:{maxFileSize:"".concat((i.maxFileSize/1048576).toFixed(0),"MB"),allowedContainers:i.allowedContainers}}})}});(0,l.useEffect)(()=>{console.log("\uD83D\uDD04 Media page loaded, calling loadMedia..."),O("PAGE_LOADED",{timestamp:new Date().toISOString()}),V(),F()},[]);let V=async()=>{try{let{data:{user:e},error:t}=await n.ND.auth.getUser();if(t||!e)return void console.error("❌ Auth error:",t);let{data:a,error:i}=await n.ND.from("user_profiles").select("subscription_plan, media_storage_limit").eq("user_id",e.id).single();if(i){console.error("❌ Error loading user profile:",i),z({subscription_plan:"free",media_storage_limit:50});return}z({subscription_plan:a.subscription_plan||"free",media_storage_limit:a.media_storage_limit||50}),console.log("✅ User plan loaded:",a.subscription_plan,"Storage limit:",a.media_storage_limit)}catch(e){console.error("❌ Error loading user plan:",e),z({subscription_plan:"free",media_storage_limit:50})}},F=async()=>{try{console.log("\uD83D\uDCC2 Loading media library..."),O("LOAD_MEDIA_START",{timestamp:new Date().toISOString()});let{data:{user:e},error:a}=await n.ND.auth.getUser();if(a){console.error("❌ Auth error:",a),O("AUTH_ERROR",{error:a.message}),I("Authentication error: "+a.message);return}if(!e){console.log("❌ No user found, redirecting to login"),O("NO_USER",{timestamp:new Date().toISOString()}),U.push("/login");return}console.log("✅ User authenticated:",e.id),O("USER_AUTHENTICATED",{userId:e.id}),console.log("\uD83D\uDC64 Loading media for user:",e.id),O("FETCHING_MEDIA",{userId:e.id});let{data:i,error:l}=await n.ND.from("media").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(l)throw O("FETCH_ERROR",{error:l.message}),l;console.log("\uD83D\uDCCA Media loaded:",(null==i?void 0:i.length)||0,"items"),O("MEDIA_LOADED",{count:(null==i?void 0:i.length)||0,items:(null==i?void 0:i.map(e=>{var t,a;return{name:e.file_name,mimeType:e.mime_type,size:e.file_size,hasAudio:null==(t=e.metadata)?void 0:t.audioDetected,audioChecked:null==(a=e.metadata)?void 0:a.audioChecked}}))||[]}),i&&i.forEach((e,t)=>{console.log("\uD83D\uDCC4 Item ".concat(t+1,":")),console.log("   - Name: ".concat(e.file_name)),console.log("   - MIME: ".concat(e.mime_type)),console.log("   - URL: ".concat(e.file_path)),console.log("   - Size: ".concat(e.file_size," bytes"))}),O("PROCESSING_VIDEOS",{totalItems:(null==i?void 0:i.length)||0,videos:(null==i?void 0:i.filter(e=>{var t;return null==(t=e.mime_type)?void 0:t.startsWith("video/")}).length)||0});let s=await Promise.all((i||[]).map(async e=>{var t;if(console.log("\uD83D\uDCC4 Processing item: ".concat(e.file_name," (").concat(e.mime_type,")")),null==(t=e.mime_type)||!t.startsWith("video/"))return console.log("\uD83D\uDCC4 Non-video file: ".concat(e.file_name)),e;{let t=e.metadata||{},a=t.audioChecked||!1;if(console.log("\uD83C\uDFA5 Video detected: ".concat(e.file_name)),console.log("   - Audio checked: ".concat(a)),console.log("   - Video URL: ".concat(e.file_path)),console.log("   - Current metadata:",t),O("PROCESSING_VIDEO",{fileName:e.file_name,audioChecked:a,currentAudioDetected:t.audioDetected}),a){if(console.log("\uD83D\uDCF9 Video ".concat(e.file_name," already checked - Audio: ").concat(t.audioDetected)),t.audioChecked&&void 0===t.audioDetected){console.log("⚠️ Video ".concat(e.file_name," has audioChecked but missing audioDetected, re-checking...")),O("RE_CHECKING_AUDIO",{fileName:e.file_name,reason:"audioDetected missing"});try{console.log("   - Re-check audio detection result: ".concat(!0));let{error:a}=await n.ND.from("media").update({metadata:{...t,audioDetected:!0}}).eq("id",e.id);return a?(console.error("❌ Error updating database for ".concat(e.file_name,":"),a),O("RE_CHECK_UPDATE_ERROR",{fileName:e.file_name,error:a.message})):(console.log("✅ Database updated for ".concat(e.file_name)),O("RE_CHECK_UPDATE_SUCCESS",{fileName:e.file_name,hasAudio:!0})),{...e,hasAudio:!0,audioChecked:!0,metadata:{...t,audioDetected:!0}}}catch(t){return console.error("❌ Error re-checking audio for ".concat(e.file_name,":"),t),{...e,hasAudio:!0,audioChecked:!0}}}return{...e,hasAudio:t.audioDetected,audioChecked:!0}}try{console.log("\uD83D\uDD0D Checking audio for video: ".concat(e.file_name)),console.log("   - URL: ".concat(e.file_path)),O("AUDIO_CHECK_START",{fileName:e.file_name,url:e.file_path}),console.log("   - Audio detection result: ".concat(!0)),O("AUDIO_CHECK_RESULT",{fileName:e.file_name,hasAudio:!0});let{error:a}=await n.ND.from("media").update({metadata:{...t,audioDetected:!0,audioChecked:!0}}).eq("id",e.id);return a?(console.error("❌ Error updating database for ".concat(e.file_name,":"),a),O("AUDIO_UPDATE_ERROR",{fileName:e.file_name,error:a.message})):(console.log("✅ Database updated for ".concat(e.file_name)),O("AUDIO_UPDATE_SUCCESS",{fileName:e.file_name,hasAudio:!0})),{...e,hasAudio:!0,audioChecked:!0,metadata:{...t,audioDetected:!0,audioChecked:!0}}}catch(a){return console.error("❌ Error checking audio for ".concat(e.file_name,":"),a),{...e,hasAudio:!0,audioChecked:!0,metadata:{...t,audioDetected:!0,audioChecked:!0}}}}}));t(s)}catch(e){console.error("❌ Error loading media:",e),I(e.message)}finally{N(!1)}},P=()=>(null==L?void 0:L.subscription_plan)==="free",H=()=>e.filter(e=>{var t;return null==(t=e.mime_type)?void 0:t.startsWith("image/")}).length,W=async e=>{let t=Array.from(e.target.files||[]);if(0===t.length)return;if(console.log("\uD83D\uDCC1 Files selected:",t.length),t.filter(e=>e.type.startsWith("video/")).length>0&&P())return void I("❌ Video uploads are not allowed on the free plan. Please upgrade to a paid plan to upload videos.");let a=t.filter(e=>e.type.startsWith("image/")),i=H(),l=i+a.length;if(P()&&l>((null==L?void 0:L.media_storage_limit)||50)){let e=((null==L?void 0:L.media_storage_limit)||50)-i;I("❌ You can only store ".concat((null==L?void 0:L.media_storage_limit)||50," images on the free plan. You currently have ").concat(i," images and can upload ").concat(e," more. Please upgrade to a paid plan for unlimited storage."));return}let s=[];for(let e of t){if(e.type.startsWith("image/")?e.preview=URL.createObjectURL(e):e.type.startsWith("video/")&&(e.preview=URL.createObjectURL(e)),e.type.startsWith("video/"))try{let t=await T(e);if(!t.isValid)return void I('❌ Video "'.concat(e.name,'" is not Instagram-compatible:\n').concat(t.error,"\n\nPlease check the video requirements and try again."));console.log("✅ Video validation passed:",e.name,t.details)}catch(t){console.error("❌ Video validation error:",t),I('❌ Error validating video "'.concat(e.name,'". Please try again.'));return}e.hasAudio=!0,e.audioChecked=!0,s.push(e)}D(e=>[...e,...s]),I("")},B=e=>{D(t=>{let a=[...t],i=a[e];return i.preview&&URL.revokeObjectURL(i.preview),a.splice(e,1),a})},q=async()=>{if(0!==k.length){console.log("\uD83D\uDE80 Starting multiple file upload..."),console.log("\uD83D\uDCCB Files to upload:",k.length),O("UPLOAD_START",{fileCount:k.length,files:k.map(e=>({name:e.name,size:e.size,type:e.type}))}),C(!0),I("");try{let{data:{user:e},error:t}=await n.ND.auth.getUser();if(t)throw console.error("❌ Auth error during upload:",t),Error("Authentication error: "+t.message);if(!e)throw Error("User not authenticated");console.log("✅ User authenticated for upload:",e.id),O("UPLOAD_USER_AUTH",{userId:e.id}),console.log("\uD83D\uDC64 User authenticated:",e.id);let i=k.map(async(t,i)=>{var l;console.log("\uD83D\uDCE4 Uploading file ".concat(i+1,"/").concat(k.length,": ").concat(t.name)),O("UPLOADING_FILE",{index:i+1,total:k.length,fileName:t.name,fileSize:t.size,fileType:t.type});let s=t,r="image/heic"===t.type||"image/heif"===t.type||t.name.toLowerCase().includes(".heic")||t.name.toLowerCase().includes(".heif");if(r){console.log("\uD83D\uDD04 Converting HEIC to JPEG using heic2any...");try{let e;try{e=(await a.e(2e3).then(a.t.bind(a,7977,23))).default}catch(e){throw console.error("❌ Failed to import heic2any:",e),Error("HEIC conversion library not available")}let i=await e({blob:t,toType:"image/jpeg",quality:.8}),l=t.name.replace(/\.(heic|heif)$/i,".jpg");s=new Blob([i],{type:"image/jpeg"});try{Object.defineProperty(s,"name",{value:l,writable:!1})}catch(e){console.warn("⚠️ Could not set file name property:",e),s=new m([i],l,{type:"image/jpeg"})}console.log("✅ HEIC converted to JPEG successfully"),console.log("   - Original size:",t.size,"bytes"),console.log("   - Converted size:",i.size,"bytes"),console.log("   - New filename:",l)}catch(e){console.error("❌ HEIC conversion failed:",e),console.log("⚠️ Using original file as fallback")}}let o=(null==(l=s.name)?void 0:l.split(".").pop())||"jpg",c="".concat(Date.now(),"-").concat(Math.random().toString(36).substring(7),".").concat(o),d="media/".concat(e.id,"/").concat(c);console.log("\uD83D\uDCE4 Uploading to Supabase:",d);let{error:u}=await n.ND.storage.from("media").upload(d,s);if(u)throw u;let{data:{publicUrl:h}}=n.ND.storage.from("media").getPublicUrl(d);console.log("✅ File uploaded successfully:",h),O("FILE_UPLOADED",{fileName:s.name||t.name,url:h,size:s.size});let{error:g}=await n.ND.from("media").insert({user_id:e.id,file_name:s.name||t.name,file_path:h,mime_type:s.type||"image/jpeg",file_size:s.size,metadata:{lastModified:t.lastModified,originalFormat:r?"heic":void 0,audioDetected:t.hasAudio,audioChecked:t.audioChecked}});if(g)throw O("DB_INSERT_ERROR",{fileName:s.name||t.name,error:g.message}),g;return O("DB_INSERT_SUCCESS",{fileName:s.name||t.name,hasAudio:t.hasAudio,audioChecked:t.audioChecked,metadata:{lastModified:t.lastModified,originalFormat:r?"heic":void 0,audioDetected:t.hasAudio,audioChecked:t.audioChecked}}),{success:!0,fileName:s.name||t.name}}),l=await Promise.all(i);console.log("\uD83D\uDCCA Upload results:",l);let s=l.filter(e=>e.success),r=l.filter(e=>!e.success);if(s.length>0&&(console.log("\uD83C\uDF89 Successful uploads:",s.length),O("UPLOAD_SUCCESS",{count:s.length,files:s.map(e=>e.fileName)})),r.length>0&&(console.log("❌ Failed uploads:",r.length),O("UPLOAD_FAILED",{count:r.length,files:r.map(e=>({fileName:e.fileName}))}),I("Some files could not be uploaded. Please try again."),0===s.length))return void D([]);k.forEach(e=>{e.preview&&URL.revokeObjectURL(e.preview)}),D([]),console.log("\uD83D\uDD04 Reloading media list..."),F()}catch(e){console.error("❌ Upload error:",e),I(e.message)}finally{C(!1)}}},G=async e=>{if(confirm("Are you sure you want to delete this file?"))try{let{error:t}=await n.ND.from("media").delete().eq("id",e);if(t)throw t;F()}catch(e){I(e.message)}},J=e.filter(e=>e.file_name.toLowerCase().includes(_.toLowerCase())),$=e=>e?e.startsWith("image/")?u.A:e.startsWith("video/")?h.A:m:m,X=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]};return r?(0,i.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,i.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,i.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,i.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:(0,i.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsx)(o(),{href:"/dashboard",children:(0,i.jsxs)(c.$,{variant:"ghost",size:"sm",children:[(0,i.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(u.A,{className:"h-6 w-6 text-green-600 mr-2"}),(0,i.jsx)("h1",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Media Library"})]})]})})}),(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-6 sm:py-8",children:[(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4 sm:p-6 mb-6 sm:mb-8",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-3 sm:mb-4",children:[(0,i.jsx)("h2",{className:"text-base sm:text-lg font-medium text-gray-900",children:"Upload New Media"}),L&&(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,i.jsx)("span",{className:"font-medium",children:"Plan:"})," ",L.subscription_plan.charAt(0).toUpperCase()+L.subscription_plan.slice(1),P()&&(0,i.jsxs)("span",{className:"ml-2 text-orange-600",children:["(",H(),"/",L.media_storage_limit," images)"]})]})]}),0===k.length?(0,i.jsxs)("div",{onClick:()=>{var e;return null==(e=M.current)?void 0:e.click()},className:"border-2 border-dashed border-gray-300 rounded-lg p-5 sm:p-8 text-center cursor-pointer hover:border-gray-400 transition-colors",children:[(0,i.jsx)(p.A,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,i.jsx)("p",{className:"text-gray-600",children:P()?"Click to upload images":"Click to upload images or videos"}),(0,i.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:P()?"Accepted formats: JPG, JPEG, PNG, GIF, WEBP, HEIC. Max size 100MB per file. Videos not allowed on free plan.":"Accepted formats: JPG, JPEG, PNG, GIF, WEBP, HEIC, MP4, WEBM, MOV. Max size 100MB per file."}),(0,i.jsx)("div",{className:"mt-3 space-y-2",children:P()&&(0,i.jsx)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,i.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,i.jsx)("svg",{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,i.jsxs)("div",{className:"text-xs text-yellow-800",children:[(0,i.jsx)("p",{className:"font-medium",children:"Free Plan Limitations"}),(0,i.jsxs)("p",{children:["You can store up to ",(null==L?void 0:L.media_storage_limit)||50," images. Video uploads are not allowed. ",(0,i.jsx)(o(),{href:"/pricing",className:"text-yellow-700 underline",children:"Upgrade to a paid plan"})," for unlimited storage and video support."]})]})]})})}),(0,i.jsx)("input",{ref:M,type:"file",multiple:!0,accept:"image/jpeg,image/png,image/gif,image/webp,image/heic,image/heif,video/mp4,video/quicktime,.mp4,.mov",onChange:W,className:"hidden"})]}):(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:k.map((e,t)=>(0,i.jsxs)("div",{className:"relative p-3 bg-gray-50 rounded-lg border",children:[(0,i.jsx)("button",{onClick:()=>B(t),className:"absolute top-2 right-2 z-10 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition-colors",children:(0,i.jsx)(f.A,{className:"h-3 w-3"})}),(0,i.jsx)("div",{className:"aspect-square bg-white rounded-lg overflow-hidden mb-2",children:e.type.startsWith("image/")&&e.preview?(0,i.jsx)("img",{src:e.preview,alt:e.name,className:"w-full h-full object-cover"}):e.type.startsWith("video/")?(0,i.jsxs)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center group",children:[(0,i.jsx)("video",{className:"w-full h-full object-cover rounded-lg",src:e.preview,muted:!0,loop:!0,onMouseEnter:e=>{e.currentTarget.play()},onMouseLeave:e=>{e.currentTarget.pause(),e.currentTarget.currentTime=0}}),(0,i.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center rounded-lg",children:(0,i.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:(0,i.jsx)("div",{className:"bg-white bg-opacity-90 rounded-full p-2",children:(0,i.jsx)(h.A,{className:"h-6 w-6 text-gray-700"})})})})]}):(0,i.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,i.jsx)(m,{className:"h-8 w-8 text-gray-400"})})}),(0,i.jsxs)("div",{className:"text-xs",children:[(0,i.jsx)("p",{className:"font-medium text-gray-900 truncate",children:e.name}),(0,i.jsx)("p",{className:"text-gray-500",children:X(e.size)}),e.type.startsWith("video/")&&e.audioChecked&&(0,i.jsx)("p",{className:"text-xs ".concat(e.hasAudio?"text-green-600":"text-red-600"),children:e.hasAudio?"✓ Has audio":"⚠️ No audio"})]})]},t))}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("button",{onClick:()=>{var e;return null==(e=M.current)?void 0:e.click()},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"+ Add more files"}),(0,i.jsx)("input",{ref:M,type:"file",multiple:!0,accept:"image/jpeg,image/png,image/gif,image/webp,image/heic,image/heif,video/mp4,video/quicktime,.mp4,.mov",onChange:W,className:"hidden"})]}),(0,i.jsxs)("div",{className:"flex gap-3 flex-col sm:flex-row",children:[(0,i.jsx)(c.$,{onClick:()=>{k.forEach(e=>{e.preview&&URL.revokeObjectURL(e.preview)}),D([])},variant:"outline",className:"w-full sm:w-auto",children:"Cancel All"}),(0,i.jsxs)(c.$,{onClick:q,loading:j,className:"w-full sm:w-auto",children:["Upload ",k.length," File",1!==k.length?"s":""]})]})]})]}),(0,i.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4 sm:p-6 mb-6 sm:mb-8",children:(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-center justify-between",children:[(0,i.jsx)("div",{className:"flex-1 w-full max-w-md",children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(x.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,i.jsx)(d.p,{placeholder:"Search media files...",value:_,onChange:e=>A(e.target.value),className:"pl-10 text-sm"})]})}),(0,i.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto mt-3 sm:mt-0",children:[(0,i.jsx)(c.$,{variant:"grid"===R?"primary":"outline",size:"sm",onClick:()=>S("grid"),className:"w-full sm:w-auto",children:"Grid"}),(0,i.jsx)(c.$,{variant:"list"===R?"primary":"outline",size:"sm",onClick:()=>S("list"),className:"w-full sm:w-auto",children:"List"})]})]})}),E&&(0,i.jsxs)("div",{className:"mb-4 p-3 sm:p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,i.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,i.jsx)("svg",{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,i.jsxs)("div",{className:"text-red-800 text-xs sm:text-sm",children:[(0,i.jsx)("p",{className:"font-medium mb-1",children:"Upload Error"}),(0,i.jsx)("div",{className:"whitespace-pre-line",children:E}),E.includes("Instagram")&&(0,i.jsxs)("div",{className:"mt-2 p-2 bg-red-100 rounded text-xs",children:[(0,i.jsx)("p",{className:"font-medium",children:"\uD83D\uDCA1 Tip: To make your video Instagram-compatible:"}),(0,i.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,i.jsx)("li",{children:"Crop to 4:5, 1:1, or 16:9 aspect ratio"}),(0,i.jsx)("li",{children:"Keep width/height between 500-1920px"}),(0,i.jsx)("li",{children:"Ensure duration is 60 seconds or less"}),(0,i.jsx)("li",{children:"Add audio if missing"})]})]})]})]}),(0,i.jsx)("button",{onClick:()=>I(""),className:"absolute top-2 right-2 text-red-600 hover:text-red-800",children:(0,i.jsx)(f.A,{className:"h-4 w-4"})})]}),0===J.length?(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-8 sm:p-12 text-center",children:[(0,i.jsx)(u.A,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,i.jsx)("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No media files"}),(0,i.jsx)("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Upload your first file to get started"})]}):(0,i.jsx)("div",{className:"grid"===R?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6":"space-y-3 sm:space-y-4",children:J.map(e=>{let t=$(e.mime_type),a=!!e.mime_type&&e.mime_type.startsWith("image/"),l=!!e.mime_type&&e.mime_type.startsWith("video/");return l&&console.log("\uD83C\uDFAC Video detected in media list:",e.file_name,"MIME:",e.mime_type,"URL:",e.file_path),(0,i.jsx)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden ".concat("list"===R?"flex flex-col sm:flex-row items-center p-3 sm:p-4":""),children:"grid"===R?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"aspect-square bg-gray-100 flex items-center justify-center",children:a?e.file_name.toLowerCase().includes(".heic")||e.file_name.toLowerCase().includes(".heif")?(0,i.jsx)("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>{let t=document.createElement("a");t.href=e.file_path,t.download=e.file_name,document.body.appendChild(t),t.click(),document.body.removeChild(t)},title:"Click to download HEIC image",children:(0,i.jsxs)("div",{className:"text-gray-500 text-sm text-center",children:[(0,i.jsx)("div",{children:"\uD83D\uDCF7 HEIC Image"}),(0,i.jsx)("div",{className:"text-xs",children:"Click to download"})]})}):(0,i.jsx)("img",{src:e.file_path,alt:e.file_name,className:"w-full h-full object-cover",onError:t=>{var a;console.error("❌ Image failed to load:",e.file_path),t.currentTarget.style.display="none",null==(a=t.currentTarget.nextElementSibling)||a.classList.remove("hidden")}}):l?(0,i.jsx)(w,{src:e.file_path,fileName:e.file_name,className:"w-full h-full object-cover rounded-lg"}):(0,i.jsx)(t,{className:"h-12 w-12 text-gray-400"})}),(0,i.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,i.jsx)("h3",{className:"font-medium text-gray-900 truncate text-sm sm:text-base",children:e.file_name}),(0,i.jsx)("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:new Date(e.created_at).toLocaleDateString()}),l&&e.audioChecked&&(0,i.jsx)("p",{className:"text-xs mt-1 ".concat(e.hasAudio?"text-green-600":"text-red-600"),children:e.hasAudio?"✓ Has audio":"⚠️ No audio"}),(0,i.jsxs)("div",{className:"flex gap-2 mt-2 sm:mt-3",children:[(0,i.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>window.open(e.file_path,"_blank"),children:(0,i.jsx)(v.A,{className:"h-4 w-4"})}),(0,i.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>{let t=document.createElement("a");t.href=e.file_path,t.download=e.file_name,document.body.appendChild(t),t.click(),document.body.removeChild(t)},children:(0,i.jsx)(y.A,{className:"h-4 w-4"})}),(0,i.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>G(e.id),children:(0,i.jsx)(b.A,{className:"h-4 w-4"})})]})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mr-0 sm:mr-4 mb-2 sm:mb-0",children:a?e.file_name.toLowerCase().includes(".heic")||e.file_name.toLowerCase().includes(".heif")?(0,i.jsx)("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center cursor-pointer hover:bg-gray-200 transition-colors rounded-lg",onClick:()=>{let t=document.createElement("a");t.href=e.file_path,t.download=e.file_name,document.body.appendChild(t),t.click(),document.body.removeChild(t)},title:"Click to download HEIC image",children:(0,i.jsxs)("div",{className:"text-gray-500 text-xs text-center",children:[(0,i.jsx)("div",{children:"\uD83D\uDCF7 HEIC"}),(0,i.jsx)("div",{className:"text-xs",children:"Download"})]})}):(0,i.jsx)("img",{src:e.file_path,alt:e.file_name,className:"w-full h-full object-cover rounded-lg",onError:t=>{var a;console.error("❌ Image failed to load:",e.file_path),t.currentTarget.style.display="none",null==(a=t.currentTarget.nextElementSibling)||a.classList.remove("hidden")}}):l?(0,i.jsx)(w,{src:e.file_path,fileName:e.file_name,className:"w-full h-full object-cover rounded-lg"}):(0,i.jsx)(t,{className:"h-8 w-8 text-gray-400"})}),(0,i.jsxs)("div",{className:"flex-1 w-full",children:[(0,i.jsx)("h3",{className:"font-medium text-gray-900 text-sm sm:text-base",children:e.file_name}),(0,i.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),l&&e.audioChecked&&(0,i.jsx)("p",{className:"text-xs mt-1 ".concat(e.hasAudio?"text-green-600":"text-red-600"),children:e.hasAudio?"✓ Has audio":"⚠️ No audio"})]}),(0,i.jsxs)("div",{className:"flex gap-2 mt-2 sm:mt-0 w-full sm:w-auto",children:[(0,i.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>window.open(e.file_path,"_blank"),children:(0,i.jsx)(v.A,{className:"h-4 w-4"})}),(0,i.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>{let t=document.createElement("a");t.href=e.file_path,t.download=e.file_name,document.body.appendChild(t),t.click(),document.body.removeChild(t)},children:(0,i.jsx)(y.A,{className:"h-4 w-4"})}),(0,i.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>G(e.id),children:(0,i.jsx)(b.A,{className:"h-4 w-4"})})]})]})},e.id)})})]})]})}},1788:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(9946).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},2525:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(9946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2657:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3168:(e,t,a)=>{"use strict";a.d(t,{$G:()=>l,ND:()=>i});let i=(0,a(3865).createBrowserClient)("https://yfmypikqgegvookjzvyv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmbXlwaWtxZ2Vndm9va2p6dnl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3NTU3NDMsImV4cCI6MjA2NjMzMTc0M30.BX62nqWwNu23pRQYrzoR9EetesEkac3ZdAu2KKXwNxs",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Client-Info":"quely-ai-web"}}}),l=()=>"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmbXlwaWtxZ2Vndm9va2p6dnl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3NTU3NDMsImV4cCI6MjA2NjMzMTc0M30.BX62nqWwNu23pRQYrzoR9EetesEkac3ZdAu2KKXwNxs"},3999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>s});var i=a(2596),l=a(9688);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,i.$)(t))}async function r(e){try{console.log("\uD83D\uDD04 Trying fallback HEIC conversion...");let t=await fetch(e),a=await t.blob(),i=document.createElement("canvas"),l=i.getContext("2d");if(!l)throw Error("Canvas context not available");let s=new Image;return new Promise((e,t)=>{s.onload=()=>{try{i.width=s.width,i.height=s.height,l.drawImage(s,0,0);let t=i.toDataURL("image/jpeg",.9);console.log("✅ Fallback HEIC conversion successful"),e(t)}catch(e){console.error("❌ Fallback conversion failed:",e),t(e)}},s.onerror=()=>{console.error("❌ Failed to load image for fallback conversion"),t(Error("Failed to load image"))},s.src=URL.createObjectURL(a)})}catch(e){throw console.error("❌ Fallback HEIC conversion failed:",e),e}}},4416:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4912:(e,t,a)=>{"use strict";a.d(t,{$:()=>r});var i=a(5155),l=a(2115),s=a(3999);let r=l.forwardRef((e,t)=>{let{className:a,variant:l="primary",size:r="md",loading:o=!1,children:n,disabled:c,...d}=e;return(0,i.jsxs)("button",{className:(0,s.cn)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 border border-gray-200",outline:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-50",ghost:"text-gray-900 hover:bg-gray-100",destructive:"bg-red-600 text-white hover:bg-red-700 border border-red-600"}[l],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"}[r],a),ref:t,disabled:c||o,...d,children:[o&&(0,i.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n]})});r.displayName="Button"},5673:(e,t,a)=>{Promise.resolve().then(a.bind(a,280))},5695:(e,t,a)=>{"use strict";var i=a(8999);a.o(i,"usePathname")&&a.d(t,{usePathname:function(){return i.usePathname}}),a.o(i,"useRouter")&&a.d(t,{useRouter:function(){return i.useRouter}}),a.o(i,"useSearchParams")&&a.d(t,{useSearchParams:function(){return i.useSearchParams}})},6076:(e,t,a)=>{"use strict";a.d(t,{p:()=>r});var i=a(5155),l=a(2115),s=a(3999);let r=l.forwardRef((e,t)=>{let{className:a,type:r,label:o,error:n,helperText:c,id:d,...m}=e,u=(0,l.useId)(),h=d||"input-".concat(u);return(0,i.jsxs)("div",{className:"w-full",children:[o&&(0,i.jsx)("label",{htmlFor:h,className:"block text-sm font-medium text-gray-700 mb-1",children:o}),(0,i.jsx)("input",{type:r,className:(0,s.cn)("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n&&"border-red-500 focus-visible:ring-red-500",a),ref:t,id:h,...m}),n&&(0,i.jsx)("p",{className:"mt-1 text-sm text-red-600",children:n}),c&&!n&&(0,i.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:c})]})});r.displayName="Input"},7213:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(9946).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},7550:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7924:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(9946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9803:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(9946).A)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},9869:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(9946).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},9946:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var i=a(2115);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),r=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},n=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,i.forwardRef)((e,t)=>{let{color:a="currentColor",size:l=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:d="",children:m,iconNode:u,...h}=e;return(0,i.createElement)("svg",{ref:t,...c,width:l,height:l,stroke:a,strokeWidth:r?24*Number(s)/Number(l):s,className:o("lucide",d),...!m&&!n(h)&&{"aria-hidden":"true"},...h},[...u.map(e=>{let[t,a]=e;return(0,i.createElement)(t,a)}),...Array.isArray(m)?m:[m]])}),m=(e,t)=>{let a=(0,i.forwardRef)((a,s)=>{let{className:n,...c}=a;return(0,i.createElement)(d,{ref:s,iconNode:t,className:o("lucide-".concat(l(r(e))),"lucide-".concat(e),n),...c})});return a.displayName=r(e),a}}},e=>{var t=t=>e(e.s=t);e.O(0,[3865,4277,6874,8441,1684,7358],()=>t(5673)),_N_E=e.O()}]);