(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9566],{2151:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(5155),a=s(2115),n=s(5695),i=s(3168),l=s(4912),c=s(6076),o=s(666),d=s(5794),u=s(3300);let m=["Fashion & Beauty","Food & Beverage","Technology","Health & Fitness","Travel & Tourism","Education","Real Estate","E-commerce","Professional Services","Entertainment","Other"],h=["Professional & Formal","Casual & Friendly","Humorous & Playful","Inspirational & Motivational","Educational & Informative","Luxury & Premium","Minimalist & Clean"];function x(){let[e,t]=(0,a.useState)(1),[s,x]=(0,a.useState)(!1),[g,y]=(0,a.useState)(""),[p,b]=(0,a.useState)(null),[f,j]=(0,a.useState)({business_name:"",niche:"",tone:"",audience:"",city:"",state:"",country:""}),v=(0,n.useRouter)();(0,a.useEffect)(()=>{(async()=>{let{data:{user:e}}=await i.ND.auth.getUser();if(!e)return v.push("/login");b(e)})()},[v]);let N=(e,t)=>{j(s=>({...s,[e]:t}))},_=async()=>{if(p){x(!0),y("");try{let e,{data:t,error:s}=await i.ND.from("user_profiles").select("user_id").eq("user_id",p.id).single();if(s&&"PGRST116"!==s.code)throw s;let r={user_id:p.id,business_name:f.business_name,industry:f.niche,brand_tone:f.tone,target_audience:f.audience,city:f.city,state:f.state,country:f.country,post_generation_credits:15,image_enhancement_credits:3,media_storage_limit:50,subscription_plan:"free",updated_at:new Date().toISOString()};if(t){let{error:t}=await i.ND.from("user_profiles").update(r).eq("user_id",p.id);e=t}else{let{error:t}=await i.ND.from("user_profiles").insert(r);e=t}if(e)throw e;v.push("/dashboard")}catch(e){console.error("Onboarding error:",e),y(e.message)}finally{x(!1)}}},w=()=>{switch(e){case 1:return"string"==typeof f.business_name&&f.business_name.trim().length>0;case 2:return"string"==typeof f.niche&&f.niche.trim().length>0;case 3:return"string"==typeof f.tone&&f.tone.trim().length>0;case 4:return"string"==typeof f.audience&&f.audience.trim().length>0;case 5:return"string"==typeof f.city&&f.city.trim().length>0&&"string"==typeof f.country&&f.country.trim().length>0;default:return!1}};return p?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 via-blue-50 to-purple-50 py-8 px-2 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-6 sm:space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white text-lg sm:text-xl font-bold",children:"S"})}),(0,r.jsx)("h2",{className:"mt-4 sm:mt-6 text-center text-2xl sm:text-3xl font-extrabold text-gray-900",children:"Set up your business profile"}),(0,r.jsx)("p",{className:"mt-2 text-center text-xs sm:text-sm text-gray-600",children:"Help us create personalized content for your brand"})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e/5*100,"%")}})}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(()=>{switch(e){case 1:return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"What's your business name?"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"This will be used in your AI-generated content"})]}),(0,r.jsx)(c.p,{label:"Business Name",value:f.business_name,onChange:e=>N("business_name",e.target.value),placeholder:"Enter your business name",required:!0})]});case 2:return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"What industry are you in?"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"This helps us generate relevant content"})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3",children:m.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>N("niche",e),className:"p-3 text-left rounded-lg border transition-colors text-gray-900 ".concat(f.niche===e?"border-purple-500 bg-gradient-to-r from-purple-50 to-blue-50 text-purple-700":"border-gray-300 hover:border-gray-400 bg-white"),children:e},e))})]});case 3:return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"What's your brand tone?"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"How should your content sound?"})]}),(0,r.jsx)("div",{className:"space-y-3",children:h.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>N("tone",e),className:"w-full p-3 text-left rounded-lg border transition-colors text-gray-900 ".concat(f.tone===e?"border-purple-500 bg-gradient-to-r from-purple-50 to-blue-50 text-purple-700":"border-gray-300 hover:border-gray-400 bg-white"),children:e},e))})]});case 4:return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Who's your target audience?"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Describe your ideal customers"})]}),(0,r.jsx)(c.p,{label:"Target Audience",value:f.audience,onChange:e=>N("audience",e.target.value),placeholder:"e.g., Young professionals aged 25-35 interested in fitness",required:!0})]});case 5:var t;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Where is your business located?"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"City and Country are required. State/Province is optional."})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(c.p,{label:"City *",value:f.city,onChange:e=>N("city",e.target.value),placeholder:"Enter your city",required:!0}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State/Province (Optional)"}),(0,r.jsx)(d.Q,{value:f.state,onChange:e=>N("state",e),countryCode:(null==(t=(0,u.EA)(f.country))?void 0:t.code)||"",placeholder:"Select your state/province"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),(0,r.jsx)(o.b,{value:f.country,onChange:e=>N("country",e),placeholder:"Select your country",required:!0})]})]})]});default:return null}})(),g&&(0,r.jsx)("div",{className:"mt-4 text-red-600 text-sm text-center",children:g}),(0,r.jsxs)("div",{className:"mt-8 flex justify-between",children:[e>1&&(0,r.jsx)(l.$,{variant:"outline",onClick:()=>t(e-1),disabled:s,children:"Back"}),e<5?(0,r.jsx)(l.$,{className:"ml-auto",onClick:()=>t(e+1),disabled:!w()||s,children:"Next"}):(0,r.jsx)(l.$,{className:"ml-auto",onClick:_,loading:s,disabled:!w(),children:"Complete Setup"})]})]})]})}):(0,r.jsx)("div",{children:"Loading..."})}},3652:(e,t,s)=>{Promise.resolve().then(s.bind(s,2151))}},e=>{var t=t=>e(e.s=t);e.O(0,[3865,4277,468,8441,1684,7358],()=>t(3652)),_N_E=e.O()}]);