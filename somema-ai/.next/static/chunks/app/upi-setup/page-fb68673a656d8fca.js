(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4765],{646:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2157:(e,t,s)=>{Promise.resolve().then(s.bind(s,2600))},2600:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(5155),r=s(2115),l=s(5695),i=s(7550),c=s(9946);let n=(0,c.A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var o=s(646);let d=(0,c.A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var u=s(4912);function m(){let[e,t]=(0,r.useState)(null),[s,c]=(0,r.useState)(""),[m,h]=(0,r.useState)(0),[x,p]=(0,r.useState)("INR"),[g,b]=(0,r.useState)(""),[y,f]=(0,r.useState)(!1),j=(0,l.useRouter)(),v=(0,l.useSearchParams)();return(0,r.useEffect)(()=>{let e=document.createElement("script");e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.head.appendChild(e);let s=v.get("subscription_id"),a=v.get("plan"),r=v.get("amount"),l=v.get("currency"),i=v.get("auth_url");return s&&(t(s),c(a||"Your Plan"),h(parseInt(r||"0")/100),p(l||"INR"),b(i||"")),()=>{let e=document.querySelector('script[src="https://checkout.razorpay.com/v1/checkout.js"]');e&&document.head.removeChild(e)}},[v]),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)(u.$,{variant:"ghost",size:"sm",onClick:()=>{j.push("/pricing")},children:[(0,a.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Back to Pricing"]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n,{className:"h-6 w-6 text-blue-600"}),(0,a.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"UPI AutoPay Setup"})]})]})})}),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-8",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(o.A,{className:"h-8 w-8 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-green-900",children:"Subscription Created Successfully!"}),(0,a.jsxs)("p",{className:"text-green-700 mt-1",children:["Your ",s," subscription has been created. Now complete the UPI AutoPay setup to activate it."]})]})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Subscription Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Plan:"}),(0,a.jsx)("p",{className:"font-medium text-gray-900",children:s})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Amount:"}),(0,a.jsxs)("p",{className:"font-medium text-gray-900",children:["₹",m," ",x]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Payment Method:"}),(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"UPI AutoPay"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Status:"}),(0,a.jsx)("p",{className:"font-medium text-orange-600",children:"Pending Setup"})]})]})]}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(n,{className:"h-6 w-6 text-blue-600 mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Complete UPI AutoPay Setup"}),(0,a.jsx)("p",{className:"text-blue-700 mb-4",children:"To activate your subscription, you need to authorize the UPI AutoPay mandate in your UPI app."}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),(0,a.jsx)("p",{className:"text-blue-700",children:'Click "Authorize UPI AutoPay" below to open Razorpay Checkout'})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),(0,a.jsxs)("p",{className:"text-blue-700",children:["Select your UPI app and authorize the mandate for ",x," ",m.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),(0,a.jsx)("p",{className:"text-blue-700",children:"Your subscription will be activated automatically"})]})]})]})]})}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)(u.$,{onClick:()=>{(console.log("\uD83D\uDD0D UPI App button clicked:",{authUrl:g,subscriptionId:e,hasAuthUrl:!!g}),e)?(console.log("✅ Opening Razorpay Checkout for UPI AutoPay authorization..."),new window.Razorpay({key:"rzp_live_RAfGBRNWfinpD9",subscription_id:e,name:"Quely.ai",description:"".concat(s," Plan - UPI AutoPay Setup"),handler:function(e){console.log("✅ UPI AutoPay mandate approved:",e),window.location.href="/dashboard?subscription=active&method=upi-autopay"},method:{upi:!0,card:!1},theme:{color:"#0f172a"},modal:{ondismiss:function(){console.log("❌ UPI AutoPay setup cancelled")}}}).open()):(console.error("❌ No subscription ID available"),alert("Subscription ID not found. Please try again."))},disabled:y||!e,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsx)(d,{className:"h-5 w-5 mr-2"}),y?"Opening...":"Authorize UPI AutoPay"]}),(0,a.jsx)(u.$,{onClick:()=>{j.push("/dashboard")},variant:"outline",className:"flex-1 py-3 px-6 rounded-lg font-medium transition-colors",children:"Complete Setup Later"})]}),(0,a.jsxs)("div",{className:"mt-8 bg-gray-50 rounded-lg p-6",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Why UPI AutoPay?"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(o.A,{className:"h-5 w-5 text-green-600"}),(0,a.jsx)("span",{className:"text-gray-700",children:"No credit card required"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(o.A,{className:"h-5 w-5 text-green-600"}),(0,a.jsx)("span",{className:"text-gray-700",children:"99% payment success rate"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(o.A,{className:"h-5 w-5 text-green-600"}),(0,a.jsx)("span",{className:"text-gray-700",children:"Manage in your UPI app"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(o.A,{className:"h-5 w-5 text-green-600"}),(0,a.jsx)("span",{className:"text-gray-700",children:"Pause or cancel anytime"})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 text-center",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Need help with UPI AutoPay setup?"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,a.jsx)(u.$,{variant:"ghost",onClick:()=>window.open("https://razorpay.com/support/","_blank"),className:"text-blue-600 hover:text-blue-700",children:"Contact Razorpay Support"}),(0,a.jsx)(u.$,{variant:"ghost",onClick:()=>window.open("https://razorpay.com/docs/payments/upi/autopay/","_blank"),className:"text-blue-600 hover:text-blue-700",children:"UPI AutoPay Guide"})]})]})]})]})}function h(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}),children:(0,a.jsx)(m,{})})}},3999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(2596),r=s(9688);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}async function i(e){try{console.log("\uD83D\uDD04 Trying fallback HEIC conversion...");let t=await fetch(e),s=await t.blob(),a=document.createElement("canvas"),r=a.getContext("2d");if(!r)throw Error("Canvas context not available");let l=new Image;return new Promise((e,t)=>{l.onload=()=>{try{a.width=l.width,a.height=l.height,r.drawImage(l,0,0);let t=a.toDataURL("image/jpeg",.9);console.log("✅ Fallback HEIC conversion successful"),e(t)}catch(e){console.error("❌ Fallback conversion failed:",e),t(e)}},l.onerror=()=>{console.error("❌ Failed to load image for fallback conversion"),t(Error("Failed to load image"))},l.src=URL.createObjectURL(s)})}catch(e){throw console.error("❌ Fallback HEIC conversion failed:",e),e}}},4912:(e,t,s)=>{"use strict";s.d(t,{$:()=>i});var a=s(5155),r=s(2115),l=s(3999);let i=r.forwardRef((e,t)=>{let{className:s,variant:r="primary",size:i="md",loading:c=!1,children:n,disabled:o,...d}=e;return(0,a.jsxs)("button",{className:(0,l.cn)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 border border-gray-200",outline:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-50",ghost:"text-gray-900 hover:bg-gray-100",destructive:"bg-red-600 text-white hover:bg-red-700 border border-red-600"}[r],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"}[i],s),ref:t,disabled:o||c,...d,children:[c&&(0,a.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n]})});i.displayName="Button"},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},7550:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9946:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var a=s(2115);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),i=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},c=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},n=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:d="",children:u,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:t,...o,width:r,height:r,stroke:s,strokeWidth:i?24*Number(l)/Number(r):l,className:c("lucide",d),...!u&&!n(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let s=(0,a.forwardRef)((s,l)=>{let{className:n,...o}=s;return(0,a.createElement)(d,{ref:l,iconNode:t,className:c("lucide-".concat(r(i(e))),"lucide-".concat(e),n),...o})});return s.displayName=i(e),s}}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,8441,1684,7358],()=>t(2157)),_N_E=e.O()}]);